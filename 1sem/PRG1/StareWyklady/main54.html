<!DOCTYPE HTML PUBLIC "-//W3C//DTD html 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="pragma" content="no-cache">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
<meta http-equiv="Content-Language" content="pl">
<title></title>
<meta name="Keywords" content="s³owa kluczowe">
<meta name="Description" content="">
<LINK REL="stylesheet" TYPE="text/css" HREF="main.css">
<script language="JavaScript" src="skrypty.js" type="text/javascript"></script>
</head>
<body bgcolor="white" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<table width="100%" cellspacing="4" cellpadding="4" border="0">
<tr>
    <td><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td align="left"><A HREF="index53.html" TARGET="_top"  class="NAWIGACJA">&#171;&nbsp;poprzedni punkt</a>&nbsp;</td><td align="right">&nbsp;<A HREF="index55.html" TARGET="_top" class="NAWIGACJA">nastêpny punkt&nbsp;&#187;</a></td></tr></table><br clear="all"><A NAME="EDU.wyklad.punkt 5"></A><div class="tytulpunktu">5. Przyk³ad</div>

<a name="W7.5"></a>

<p>Jako podsumowanie powy¿szych rozwa¿añ przeanalizujemy
pe³ny przyk³ad definicji klasy. Mimo, ¿e ju¿ od dwóch wyk³adów pos³ugujemy
siê fragmentami (ró¿nych) definicji klasy Para (<b>s± one zawarte w programach przyk³adowych do wyk³adów w katalogu samples</b>)  - dok³adne poznanie tej klasy
pozostawimy do nastêpnego wyk³adu,  bowiem nadaje siê ona doskonale do sczegó³owego
prze¶ledzenia co dzieje siê przy tworzeniu obiektów i  wywo³ywaniu metod.
Ta szczegó³owa analiza potrzebna jest dla pe³nego zrozumienia przede wszystkim
w³a¶nie sposobu poslugiwania siê metodami. <br>
Na razie potrzebne jest nam dosyæ intuicyjne rozumienie tych wszystkich kwestii, a podany dalej przyk³ad powinien je ugruntowaæ.<br>
Zobaczymy przy okazji, ¿e definiowanie klas jest bardzo ³atwe, czasem nawet trochê nudnawe, choæ mo¿e byæ te¿ i zabawne.<br>
<br>
Wyobra¼my sobie, ¿e prowadzimy ksiêgarniê. Ksiêgarnia zajmuje siê sprzeda¿±
publikacji (ksi±¿ek, czasopism, p³yt CD itp.). Zatem g³ównym obiektem naszego
zainteresowania bêd± publikacje.<br>

<div class="notel">
Zauwa¿my, ¿e buduj±c klasê publikacji, staramy siê znale¼æ wspólne atrybuty
wszystkich publikacji. Zatem np. w³a¶ciwo¶æ "autor" zostaje tu pominiêta,
bo nie wszystkie publikacje (np. czasopisma) maj± autorów</div>

<div class="ddd"><br>
O ka¿dej publikacji
powinni¶my wiedzieæ:<br>
jaki jest jej tytu³,<br>
kto j± wyda³,<br>
rok wydania,<br>
jaki jest jej numer identyfikacyjny (ISBN, ISSN, jaki¶ inny),<br>
jaka jest cena (powiedzmy hurtowa).<br>
ile egzemplarzy tej publikacji posiada ksiêgarnia.</div>
<br clear="all">

<p>Te wszystkie atrybuty - w naturalny sposób - bêd± stanowiæ pola klasy.<br>

<pre>
public class Publication {

  private String title;
  private String publisher;
  private int year;
  private String ident;
  private double price;
  private int quantity;
...
}
</pre>

<p>Ka¿da publikacja mo¿e pojawiæ siê jako obiekt w naszym programie, gdy u¿yjemy
wyra¿enia new. Obiekt ten powinien byæ jako¶ zainicjowany - dlatego musimy
dostarczyæ odpowiedni konstruktor, który bêdzie inicowa³ podanymi argumentami
elementy obiektu. <br>

<pre>
public class Publication {

  private String title;
  private String publisher;
  private int year;
  private String ident;
  private double price;
  private int quantity;

  public Publication(String t, String pb, int y,
                     String i, double pr, int q)
  {
    title = t;        // pole title uzyskuje warto¶æ parametru t
    publisher = pb;   // pole publisher uzyskuje warto¶æ parametru pb
    year = y;  
    ident = i;        // itd...
    price = pr;
    quantity = q;
  }
...
}
</pre>

<p>Teraz - w innej klasie ( np. w metodzie main umieszczonej w innej klasie)
mo¿emy stworzyæ obiekt - ksi±¿kê pt. "Psy", wydan± przez wydawnictwo "Dog
&amp; Sons", o cenie  21 z³. Na razie nie mamy jeszcze ¿adnego egzemplarza
tej ksi±¿aki.<br>

<pre>
    Publication b = new Publication("Psy", "Dog &amp; Sons", 2002,
                                    "ISBN6789", 21.0, 0);

</pre>

<p>Co mo¿emy robiæ z publikacjami?<br>
Mo¿emy je kupowaæ, mo¿emy sprzedawaæ, mo¿emy wreszcie uzyskaæ informacje
o ka¿dej publikacji: jej dane bibliograficzne (tytu³, wydawca, rok, identyfikator),
jej aktualn± cenê, liczbê egzemplarzy, znajduj±cych siê w ksiêgarni. Mo¿e
siê tak¿e okazaæ, ¿e cena publikacji uleg³a zmianie, musimy zatem mieæ jaki¶
sposob by zmieniæ ten element obiektu- publikacji.<br>
<br>
Te wszystkie "operacje" na publikacjach zdefiniujemy jako metody klasy.<br>

<pre>
public class Publication {

  ...
  // Metody klasy

  // Zwraca tytu³

  public String getTitle() {
    return title;
  }

  // Zwraca wydawcê

  public String getPublisher() {
    return publisher;
  }

  // Zwraca rok wydania

  public int getYear() {
    return year;
  } 

  // Zwraca numer identyfikacyjny

  public String getIdent() {
    return ident;
  }

  // Zwraca cenê

  public double getPrice() {
    return price;
  }

  // Zmienia cenê

  public void setPrice(double p) {
    price = p;
  }

  // Zwraca liczbê egzemplarzy

  public int getQuantity() {
    return quantity;
  }

  // Zakup n egzemplarzy

  public void buy(int n) {
    quantity += n;
  }

  // Sprzeda¿ n egzemplarzy

  public void sell(int n) {
    quantity -= n;
  }

}
</pre>

<p>
Maj±c gotow± klasê Publikacji mo¿emy przetestowaæ jej dzia³anie.<br>
Powiedzmy, ¿e testowanie odbywaæ siê bêdzie w klasie TestPub (tradycyjnie w metodzie main, zawartej w tej klasie)<br>
<br>

<pre>
class PubTest {

  public static void main(String[] args) {

    // Tworzenie obiektu - publikacji

    Publication b = new Publication("Psy", "Dog &amp; Sons", 2002,
                                    "ISBN6789", 21.0, 0);

    int n = 10;  // kupimy n = 10 egzemplarzy
    b.buy(n);

    // ³atwo policzyæ koszt zakupu
    double koszt = n * b.getPrice();

    System.out.println("Na zakup " + n + " publikacji:");
    System.out.println(b.getTitle());
    System.out.println(b.getPublisher());
    System.out.println(b.getYear());  
    System.out.println(b.getIdent());
    System.out.println("---------------\nwydano: " + koszt);

    // teraz sprzedamy 4 egzemplarze i zobaczymy ile zosta³o
    b.sell(4);
    System.out.println("Po sprzeda¿y zosta³o " + b.getQuantity() + " pozycji");
  }
}

</pre>

<br>

<div class="listing33r">Na zakup 10 publikacji:<br>
Psy<br>
Dog &amp; Sons<br>
2002<br>
ISBN6789<br>
---------------<br>
wydano: 210.0<br>
---------------<br>
Po sprzeda¿y zosta³o 6 pozycji</div>

<div class="ddd"><br>Program wyprowadzi na konsolê nastêpuj±ce dane:</div><br clear="all">

<p><br clear="all"><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td align="left"><A HREF="index53.html" TARGET="_top"  class="NAWIGACJA">&#171;&nbsp;poprzedni punkt</a>&nbsp;</td><td align="right">&nbsp;<A HREF="index55.html" TARGET="_top" class="NAWIGACJA">nastêpny punkt&nbsp;&#187;</a></td></tr></table></td>
</tr>
</table>
</body>
</html>
