<!DOCTYPE HTML PUBLIC "-//W3C//DTD html 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="pragma" content="no-cache">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
<meta http-equiv="Content-Language" content="pl">
<title></title>
<meta name="Keywords" content="s³owa kluczowe">
<meta name="Description" content="">
<LINK REL="stylesheet" TYPE="text/css" HREF="main.css">
<script language="JavaScript" src="skrypty.js" type="text/javascript"></script>
</head>
<body bgcolor="white" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<table width="100%" cellspacing="4" cellpadding="4" border="0">
<tr>
    <td><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td align="left"><A HREF="index35.html" TARGET="_top"  class="NAWIGACJA">&#171;&nbsp;poprzedni punkt</a>&nbsp;</td><td align="right">&nbsp;<A HREF="index37.html" TARGET="_top" class="NAWIGACJA">nastêpny punkt&nbsp;&#187;</a></td></tr></table><br clear="all"><A NAME="EDU.wyklad.punkt 3"></A><div class="tytulpunktu">3. Typy zmiennych. Deklaracje</div>
<a name="W5.3"></a>

<p>W przeciwieñstwie do litera³ów typy zmiennych i sta³ych programista musi podaæ sam w <b>deklaracjach</b>. <br>
<br><A NAME="EDU.skorowidz.termin deklaracja_zmiennej 36_340"></A> 

<div class="def"><b>Deklaracja</b> zmiennej (sta³ej) polega na okre¶leniu nazwy zmiennej (sta³ej),
jej typu oraz ew. pewnych innych w³a¶ciwo¶ci, które s± istotne wtedy, gdy
zmienna jest polem klasy</div>

<br>

<p>Sk³adniê deklaracji zmiennej - w uproszczeniu - mo¿na przedstawiæ w nastêpuj±cy sposób:<br>
<br>

<div align="Center"><i><b>nazwa_typu    nazwa_zmiennej;</b></i><br></div>

<br>

<p>Na przyk³ad:<br>
<br>


int a;        // deklaracja zmiennej ca³kowitotoliczbowej a<br>





char c;  // deklaracja zmiennej, która mo¿e zawieraæ znaki Unikodu <br>


double price; // deklaracja zmiennej typu double o nazwie <b><i>price</i></b><br>
<br>
<br>


Przy okazji deklarowania zmiennych mo¿na ustalaæ ich warto¶ci, co nazywa siê inicjacj±.<br>
<br><A NAME="EDU.skorowidz.termin inicjacja_zmiennej 36_341"></A> 
<div class="def"><b>Inicjacja</b> zmiennej - to ustalenie jej warto¶ci przy okazji deklaracji</div>

<br>

<p>Deklaracjê z inicjacjê zapisujemy w formie:<br>
<br>

<div align="Center"><i><b>nazwa_typu    nazwa_zmiennej = wyra¿enie;</b></i><br></div>

<br>
<p>
Na przyk³ad:<br>
<br>


int a = 3;        <br>
<br>


co jest skrócon± form± od:<br>
<br>


int a;<br>


a = 3;<br>
<br>


W tym przypadku wyra¿eniem inicjuj±cym by³ litera³. Ogólnie mo¿e byæ to dowolne wyra¿enie (w tym wywo³anie metody) <br>
<br>


Np.<br>


int a = 3;<br>


int b = a + 1;  // deklaracja zmiennej b i ustalenie warto¶ci na 4<br>
<br>


Zauwa¿my, ¿e u¿ycie zmiennej <i><b>a</b></i> w wyra¿eniu inicjuj±cym warto¶c zmiennej <i><b>b</b></i> by³o mo¿liwe tylko dlatego, ¿e deklaracja zmiennej <i><b>a</b></i> wyst±pi³a przed u¿yciem jej w tym wyra¿eniu.<br>
<br>


Do deklarowania sta³ych u¿ywamy s³owa kluczowego <b>final</b>.<br>
<br><A NAME="EDU.skorowidz.termin sta³a 36_342"></A> 

<div class="def">Warto¶æ <b>sta³ej</b> mo¿na ustaliæ tylko raz i po¼niej ta warto¶æ nie  mo¿e byæ ju¿ zmieniona</div><br>
<br>


<p>Piszemy:<br>
<br><A NAME="EDU.skorowidz.termin final 36_343"></A> 
<div align="Center"><b>final <i>nazwa_typu nazwa_sta³ej</i>  [  =  <i>wyra¿enie</i>  ]</b><br></div>

<br>


<p>przy czym inicjacja (podana w nawiasach kwadratowcyh) jest tu opcjonalna,
bowiem istotne jest tylko to by warto¶æ sta³ej zosta³a ustalona tylko raz.
Najczê¶ciej jednak warto¶æ tê ustalaæ bêdziemy w momencie deklaracji.<br>
<br>


Np. <br>
<br>


final int NUM = 55;<br>


final double PI_SMALL = 3.14;<br>


final char C;<br>


...<br>


C = 'c';<br>
<br>
<br>


Deklaracje zmiennych i sta³ych, które oznaczaj± obiekty zapisujemy w analogiczny sposób. Zobaczmy. <br>


Je¿eli int ma byæ typem zmiennej x (która oznacza liczbê ca³kowit±) to piszemy: <br>
<br>


            int x;<br>
<br>


Podobnie je¿eli s jest nazw± zmiennej, która oznacza obiekt klasy String, to piszemy:<br>
<br>


            String s;<br>
<br>


To samo ze zmiennymi, które oznaczaj± obiekty ka¿dej innej klasy (np.
z zestawu "klas standardowych", dostarczanych wraz ze ¶rodowiskiem Java 2
SDK lub te¿ klas, które sami zdefiniujemy):<br>
<br>


Button b;  // zmienna  b  oznacza obiekt klasy Button<br>


Frame frame; // zmienna frame  oznacza obiekt klasy Frame<br>
<br><br>


<div class="notel33">
Regu³y dobrego stylu programowania w zasadzie nakazuj± umieszczanie
deklaracji ka¿dej zmiennej w odrêbnym wierszu programu wraz z dodatkowym komentarzem
opisuj±cym przeznaczenie zmienenej, gdy nazwa zmiennej nie mówi ca³kowicie
wyra¼nie co dana zmienna oznacza.</div>

<div class="ddd">
<br>
Zauwa¿my jeszcze, ¿e dopuszczalne jest
deklarowanie kilku zmiennych tego samego typu w jednej deklaracji
poprzez wymienienie ich (wraz z ew. inicjatorami) na li¶cie rozdzielonej
przecinkami np.
<br>

int num = 1, count, ff = 10;<br>


    Button b1, b2, b3; <br>
</div>

<br clear="all">

<br>

<p>Trzeba koniecznie pamêtaæ, ¿e  <b>wszystkie zmienne w programie musz± byæ zadeklarowane.</b><br>
<br><A NAME="EDU.skorowidz.termin deklaracja 36_344"></A> 

<div class="important"><b>Deklaracje</b> obowi±zkowo <b>musz± poprzedzaæ u¿ycie zmiennych</b> i sta³ych w innych
instrukcjach programu.<br>


Nie znaczy to jednak, ¿e deklaracje musz± poprzedzaæ wszystkie instrukcje programu.<br>


Wrêcz przeciwnie: zmienne i sta³e deklarujemy <b>zwykle</b> mo¿liwie najbli¿ej miejsca ich u¿ycia, co zwiêksza czytelno¶æ kodu.<br>


</div> 

<br>
<p>


Zobaczmy przyk³ad podobny do obliczania ceny komputera w pocz±tkowych wyk³adach:<br>

<pre>
public class CompPrice {

  public static void main(String[] args) {

    int cProc = 700;   // cena procesora
    int cPly  = 500;   // ... p³yty
    int cPam = 300;    // innych sk³adnikow ...
    int cDysk = 400;
    int cInn = 500;

    final double VAT = 1.22;  // narzut podatku VAT

    // Liczymy cenê komputera bez monitora
    // wyra¿enie sumuj±ce sk³adniki zapisuj±c
    // jako wyra¿enie inicjuj±cê zmienn± cKomp

    double cKomp = (cProc + cPly + cPam + cDysk + cInn) * VAT;

    System.out.println("Cena komputera bez monitora wynosi :");
    System.out.println(cKomp);

    int cMon = 1100;             // cena monitora netto
    cKomp = cKomp + cMon * VAT;  // i nowa cena komputera z monitorem

    System.out.println("Cena komputera z monitorem wynosi :");
    System.out.println(cKomp);

 }
}

</pre>

<p>Zauwa¿my: gdyby¶my zapomnieli dodaæ s³ówko int przed cMon - zmienna cMon by³aby niezadeklarowana.<br>

<pre>
    cMon = 1100;                 // cena monitora netto
    cKomp = cKomp + cMon * VAT;  // i nowa cena komoutera z monitorem
</pre>


<p>Kompilator wykryje tê sytuacjê i poinformuje nas o b³êdzie<br><br>


<div class="listing100"><br>


CompPrice.java:19: cannot resolve symbol<br>


symbol  : variable cMon<br>


location: class CompPrice<br>


    cMon = 1100;                 // cena monitora netto<br>


    ^<br>


CompPrice.java:20: cannot resolve symbol<br>


symbol  : variable cMon<br>


location: class CompPrice<br>


    cKomp = cKomp + cMon * VAT;  // i nowa cena komputera z monitorem<br>


                    ^<br>


2 errors<br>


</div>
<br>
<p>


Na marginesie,<A NAME="EDU.skorowidz.termin komunikat_cannot_resolve_symbol 36_345"></A> z komunikatem "cannot resolve symbol" bêdziemy siê spotykaæ
do¶æ czêsto. Oznacza on (zwykle), ¿e u¿ywamy jakiej¶ nazwy, której kompilator
nie mo¿e zidentyfikowac (np. niezadeklarowanej zmiennej). </p>


<div class="notel"><br>Java <b>rozró¿nia wielkie i male litery</b> w nazwach zmiennych, sta³ych,
metod, klas<br><br>
</div>

<div class="ddd">
<br>
Jednym z typowych ¼róde³ takich b³êdów s± b³êdy w pisowni,
a szczególnie mylenie wielkich i ma³ych liter w nazwach.  O ile z w³asnymi
programami zwykle nie bêdziemy mieli tutaj wielkich problemow (ostatecznie
sami wymy¶lili¶my nazwy), to nazwy stosowane w standardowych pakietach Javy
mog± nam sprawiaæ wiêcej k³opotu.
</div>
<br clear="all">


<p>Stosowana jest tutaj do¶æ klarowna konwencja nazewnicza, która bardzo nam
pomo¿e, ale na pocz±tku czêsto nie bêdziemy jeszcze pewni jak pisaæ np. HashTable
czy Hashtable? <br>
<br>


<div class="important"><br><A NAME="EDU.skorowidz.termin identyfikator 36_346"></A> 

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>Identyfikatory</b><br>
<br>

Nazwy zmiennych, sta³ych, metod, klas - nazywaj± siê identyfikatorami.<br>

Identyfikatory musz± zaczynaæ siê od litery lub podkre¶lenia (znaku _) i
mog± sk³adaæ siê z dowolnego ci±gu znaków alfanumerycznych (liter i cyfr)
i/lub znaków podkre¶leñ.<br><A NAME="EDU.skorowidz.termin s³owo_zarezerwowane_Javy 36_347"></A> 
Jako identyfikatorów nie wolno u¿ywaæ zarezerwowanych s³ów jêzyka - <br>

<a href="javascript:popUp('dodatki/W4ResKeyw.htm',75,75)">zob. spis s³ów zarezerwowanych Javy</a><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>Konwencje nazewnicze:</b><br>
<br>
<ul>
<li>nazwy zmiennych i metod - zaczynam ma³± liter±, ka¿dy sk³adnik wyró¿niamy
rozpoczynaj±c go du¿± liter± (np. x, price, numOfAllOccurs, liczbaDzieciMlodszych,
increment(),  getBackground())</li><li>nazwy stalych - piszemy du¿ymi literami, sk³adniki nazwy rozró¿niaj±c za pomoc± znaku podkre¶lenia (np. NUM, EXIT_ON_CLOSE)</li><li>nazwy klas zaczynamy du¿± liter±, i dalej wyrózniamy poszczególne sk³adniki nazwy - te¿ du¿± liter± (np. Frame, ArrayList)</li>
</ul>
<i>Uwaga: konwencja wyró¿niania sk³adników nazwy poprzez rozpoczynanie ich du¿± liter± nazywa siê notacj± wêgiersk±</i><br>

</div>

<br>

<p>Na zakoñczenie warto jeszcze raz zastanowiæ siê jaki jest sens<A NAME="EDU.skorowidz.termin typ pojêcie 36_348"></A> pojêcia typu.<br>


Na "niskim poziomie" (instrukcji maszynowych) ka¿da jednostaka danych rzeczywi¶cie
musi mieæ typ. Wynika to ze znanego ju¿ nam faktu, ¿e ka¿da informacja (instrukcje
maszynowe, dane) jest przedstawiana w pamiêci komputera za pomoc± ci±gów
bitów o warto¶ciach 1 lub 0.  Nazwa zmiennej oznacza za¶ obszar pamiêci,
w którym znajduje siê oznaczana przez tê zmienn± warto¶æ.<br>




Np. je¶li mamy zmienne x i y, to nazwy te (jako¶) odsy³aj± do pocz±tków obszarów, w których zapisane s± jakie¶ ci±gi bitowe:<br>
<br>




x      1   1   0   0   1   0   1   1  ....<br>




y      1  ... 0  1  1  0  0  1  0  0  1  ...<br>
<br>

Jak w takiej sytuacji komputer ma zinterpretowaæ wyra¿enie x + y ? Gdzie
koñcz± siê warto¶ci x i y ? Co oznacza operacja + ? Odpowiedzi na te pytania
wynikaj± w³a¶nie z typów zmiennych x i y, i dlatego typy te musz± byæ okre¶lone.<br>
<br>


  Przyk³adowo: je¶li zmienne x i y s± typu int, to do przechowywania warto¶ci
tych zmiennych  zostan± wydzielone obszary pamiêci o okre¶lonej d³ugo¶ci
(4 bajty), a instrukcja dodawania bêdzie skutkowaæ w wygenerowaniu odpowiednich
instrukcji maszynowych, które w sumie umo¿liwi± dodanie do siebie dwóch warto¶ci
z tych obszarów przy zastosowaniu arytmetyki sta³opozycyjnej. Gdyby zmienne
x i y by³y typu float, to obszary zajmowanej przez nie pamiêci by³yby inne
(8 bajtów), a dodawanie realizowane w arytmetyce zmiennopozycyjnej.<br>
<br>


Dlaczego jednak w programie pisanym w Javie, która przecie¿ jest jêzykiem
wysokiego poziomu (abstrahuj±cym - choæ jak widzimy nie do koñca - od "szczegó³ow
technicznych")  programista zawczasu musi deklarowaæ zmienne, okre¶laj±c
przy tym ich typy?<br>
<br>


S± jêzyki, które tego nie wymagaj±. Zazwyczaj s± to jêzyki interpretowane,
bo okazuje siê, ¿e stworzenie kompilatora dla jêzyka bez typów jest niezwykle
trudne (choæ nie niemo¿liwe, bo ju¿ s± takie kompilatory, aczkolwiek raczej
o charakterze eksperymentalnym, nie szerokodostêpnym).<br>
<br>


Mamy wiêc pierwsz± odpowied¼ na nasze pytanie: trudno¶ci stworzenia kompilatora<br>


(Java jest jêzykiem nie tylko interpretowanym, ale równie¿ kompilowanym,
a prawdziwy powód oraz kontekst tego ostatniego za chwilê wyjasnimy). <br>
<br>

Jest te¿ inny argument, dotycz±cy szczególnie typów numerycznych. Dane
ró¿nych typów numerycznych (jak widzieli¶my) zajmuj± ró¿n± objêto¶æ pamiêci.
Maj±c do wyboru kilka typów liczbowych programista mo¿e wiêc lepiej sterowaæ
zajêto¶ci± pamiêci i efektywno¶ci± programu.<br>


Je¶li np. musi przechowywaæ w pamiêci 10 tys. liczb i wie, ¿e wszystkie one
mog± byæ tylko ca³kowite, a ich wielko¶ci mieszcz± siê 4 bajtach, to u¿ywaj±c
typu int zamiast typu double oszczêdza 40 tys. bajtów oraz znacznie zwiêksza
efektywno¶æ programu, gdy¿ dzia³ania na liczbach ca³kowitych wykonuj± siê
zazwyczaj wielokrotnie szybciej ni¿ na liczbach rzeczywistych.<br>


Powiedzmy jednak szczerze: ten kontekst jest bardzo wa¿ny w zastosowaniach
naukowych, przy du¿ych obliczeniach itd., natomiast na skutek postêpu w sprzêcie
oszczêdno¶ci rzêdu 1 MB pamiêci czy kilka milionów operacji w programie  dla codziennych
powszechnych zastosowañ oprogramowania nie s± ju¿ tak istotne.<br>
<br>


Dochodzimy wiêc do chyba najbardziej w³a¶ciwej odpowiedzi na pytanie o sens deklarowania zmiennych i okre¶lania ich typów.<br>


Otó¿ okre¶lanie typów danych (nawet tych najbardziej elementarnych) w deklaracjach
umo¿liwia  kompilatorowi kontrolê poprawno¶ci programu np. stwierdzenie czy
zmienne okre¶lonych typów stosujemy we w³a¶ciwych kontekstach albo czy przekazujemy
funkcjom (metodom) argumenty w³a¶ciwych typów. Nazywa siê to kontrol± zgodno¶ci
typów (przez kompilator) i czêsto pomaga wykrywaæ b³êdy w programie ju¿ w
fazie kompilacji.<br>
<br><A NAME="EDU.skorowidz.termin kontrola_zgodno¶ci_typów ¶cis³a_ 36_349"></A> Java jest jêzykiem ze <b>¶cis³± kontrol± zgodno¶ci typów</b> i temu g³ównie s³u¿y wybrany przez twórców Javy sposób kompilowania programów, skutkuj±cy w sk³adni jêzyka.<br>
<br>


<div class="def">¦cis³a kontrola zgodno¶ci typów oznacza, ¿e typ wyniku  ka¿dego wyra¿enia znany jest ju¿ w fazie kompilacji</div>
<br>
<p>

 Prze¶wiadczenie o tym, ¿e ¶cis³a kontrola zgodno¶ci typów chroni przed
b³êdami, ¿ywione przez twórców Javy, chyba najbardziej zawa¿y³o na tym, i¿ w
Javie trzeba deklarowaæ zmienne i w deklaracjach okre¶laæ ich typy, a stosuj±c
litera³y trzeba pamiêtaæ o konwencjach traktowania literalnie podanych danych.</p><br clear="all"><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td align="left"><A HREF="index35.html" TARGET="_top"  class="NAWIGACJA">&#171;&nbsp;poprzedni punkt</a>&nbsp;</td><td align="right">&nbsp;<A HREF="index37.html" TARGET="_top" class="NAWIGACJA">nastêpny punkt&nbsp;&#187;</a></td></tr></table></td>
</tr>
</table>
</body>
</html>
