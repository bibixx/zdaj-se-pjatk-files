<!DOCTYPE HTML PUBLIC "-//W3C//DTD html 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="pragma" content="no-cache">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
<meta http-equiv="Content-Language" content="pl">
<title></title>
<meta name="Keywords" content="s³owa kluczowe">
<meta name="Description" content="">
<LINK REL="stylesheet" TYPE="text/css" HREF="main.css">
<script language="JavaScript" src="skrypty.js" type="text/javascript"></script>
</head>
<body bgcolor="white" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<table width="100%" cellspacing="4" cellpadding="4" border="0">
<tr>
    <td><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td align="left"><A HREF="index71.html" TARGET="_top"  class="NAWIGACJA">&#171;&nbsp;poprzedni punkt</a>&nbsp;</td><td align="right">&nbsp;<A HREF="index73.html" TARGET="_top" class="NAWIGACJA">nastêpny punkt&nbsp;&#187;</a></td></tr></table><br clear="all"><A NAME="EDU.wyklad.punkt 3"></A><div class="tytulpunktu">3. Operatory i wyra¿enia logiczne</div>

<a name="W9.3"></a>

<p>Do zapisywania z³o¿onych warunków s³u¿± (m.in) warunkowe<A NAME="EDU.skorowidz.termin operator logiczny 72_576"></A> operatory logiczne:<br>

<ul>
<li>jednoargumentowy operator negacji logicznej oznaczany przez ! ("nie"),</li><li>dwuargumentowy operator koniunkcji oznaczany przez &amp;&amp; ("i"),</li><li>dwuargumentowy operator alternatywy oznaczany przez || ("albo").</li>
</ul>

<p>
Przypu¶cmy, ¿e chcemy sprawdziæ czy zachodzi warunek: wielko¶æ n znajduje
siê w przedziale [1, 10] - to znaczy, czy n jest wiêksze lub równe 1 i jednocze¶nie
mniejsze lub rowne 10. <br>

Jak ju¿ wiemy, zapis: if (1 &lt;= n &lt;= 10) bêdzie b³êdny (bo operatory
relacyjne s± stosowane tylko wobec typów numerycznych, a wyra¿enie 1 &lt;=
n ma wynik typu boolean).<br>

Nie znaj±c operatorów logicznych i wiedz±c, ¿e w instrukcji if mo¿emy umie¶ciæ
inn± instrukcjê if, warunek mogliby¶my sprawdziæ za pomoc± takiego zapisu:<br>

if (n &gt;= 1)<br>

   if (n &lt;= 10) ... ; <br>
<br>

Nie jest to jednak ani elegancka, ani zbyt czytelna forma.<br>

Na szczê¶cie mamy operator koniunkcji logicznej,<br>

Chodzi nam o to czy równocze¶nie spelnione s± dwa warunki <br>
<br>

    n &gt;= 1  <b>I</b>  n &lt;= 10.<br>
<br>

W Javie zapisujemy to jako:<br>
<br>

    n &gt;= 1 &amp;&amp; n &lt;= 10<br>
<br>

i stosujemy np. w instrukcji if:<br>
<br>

    if (n &gt;= 1 &amp;&amp; n &lt;= 10) ...;<br>
<br>

Podobnie mo¿emy chcieæ sprawdziæ czy warto¶æ n znajduje siê poza przedzia³em [1, 10]. Aby tak by³o n musi byæ mniejsze od 1 <b>lub</b> wiêksze od 10.<br>

Do zapisu takiego warunku stosuje siê operator logicznej alternatywy ||:<br>
<br>

     if (n &lt; 1 || n &gt; 10) ..<br>
<br>

Trzeci operator logiczny - negacji - s³u¿y do zaprzeczania warunkom.<br>

Na przyk³ad, je¿eli chcemy podj±c jakie¶ dzia³ania, je¿eli ³añcuch znakowy txt nie jest napisem "Ala", to piszemy:<br>
<br>

    if (<b>!</b>txt.equals("Ala")) ... ;<br>
<br>

Argumentami operatorów logicznych mog± byæ <b>tylko</b> wyra¿enia typu <b>boolean</b>, za¶ rezultatem jest warto¶æ typu <b>boolean</b>, która mo¿e byæ równa true lub false, zgodnie z nastêpuj±c± tablic±:<br>
<br>

<table cellpadding="2" cellspacing="2" border="1" width="100%">
<tbody><tr><td valign="Top" rowspan="1" colspan="5" align="Center"><b>Warunkowe operatory logiczne</b><br></td></tr><tr><td valign="Top" align="Center"><b>a<br></b></td><td valign="Top" align="Center"><b>b<br></b></td><td valign="Top" align="Center"><b>a &amp;&amp; b<br></b></td><td valign="Top" align="Center"><b>a || b<br></b></td><td valign="Top" align="Center"><b>!a<br></b></td></tr><tr><td valign="Top" align="Center">true<br></td><td valign="Top" align="Center">true<br></td><td valign="Top" align="Cente
r">true<br></td><td valign="Top" align="Center">true<br></td><td valign="Top" align="Center">false<br></td></tr><tr><td valign="Top" align="Center">false<br></td><td valign="Top" align="Center">true<br></td><td valign="Top" align="Center">false<br></td><td valign="Top" align="Center">true<br></td><td valign="Top" align="Center">true<br></td></tr><tr><td valign="Top" align="Center">true<br></td><td valign="Top" align="Center">false<br></td><td valign="Top" align="Center">false<br></td><td valign="Top" align=
"Center">true<br></td><td valign="Top" align="Center"><br></td></tr><tr><td valign="Top" align="Center">false<br></td><td valign="Top" align="Center">false<br></td><td valign="Top" align="Center">false<br></td><td valign="Top" align="Center">false<br></td><td valign="Top" align="Center"><br></td></tr></tbody>
</table>

<br>

<div class="notec">Operator &amp;&amp; daje warto¶æ true tylko wtedy, gdy <b>oba</b> jego argumenty s± warto¶ciami <b>true</b>, a warto¶æ false zawsze, gdy którykolwiek z argumentów jest false.  <br>

Operator || daje warto¶æ true zawsze, gdy <b>którykolwiek </b>z jego argumentów jest <b>true</b> i warto¶æ false tylko wtedy, gdy oba argumenty s± false
</div>


<br>
<p>

Operatory logiczne maj± ni¿szy priorytet od operatorów relacyjnych i równo¶ci-nierówno¶ci,
zatem bez u¿ycia dodatkowych nawiasów mo¿emy pisaæ np:<br>
<br>

    if ( a == 1 &amp;&amp; b &gt; 3) c = a + b;<br>
<br>

uzyskuj±c efekt, o który nam chodzi (tu: wyliczenie c, gdy a równe 1 i b &gt; 3).<br>
<br>

<div class="important">
Uwaga: operator negacji logicznej ma wy¿szy priorytet ni¿ inne operatory
logiczne, wobec tego nale¿y u¿ywaæ nawiasów dla zapewnienia w³a¶ciwej kolejno¶ci obliczania warto¶ci wyra¿eñ</div>

<br>

<div class="notel33">
Sprawne pos³ugiwanie siê warunkami logicznymi wymaga podstawowej
wiedzy z zakresu logiki matematycznej. Warto wiêc siêgn±æ po jaki¶ prosty,
pocz±tkowy opis rachunku zdañ logicznych i przeczytaæ z niego kilka pierwszych
stron.<br>

Nota bene, zadziwiaj±co czêsto mylone s± w programowaniu operacje koniunkcji i alternatywy
logicznej. Zawsze wiêc - wybieraj±c operacjê do zastosowania - zastanówmy
siê troszkê d³u¿ej nad tym czy ma to byæ koniukcja czy alernatywa</div>

<div class="ddd"><br>
Np. je¿eli
chcemy wykonaæ jakie¶ czynno¶ci je¿eli <b>nie</b> zachodzi warunek:
"³añcuch znakowy nie jest napisem "Ala" i - jednocze¶nie - zmienna lata ma
warto¶æ wiêksz± od 1", to nie wolno nam napisaæ:<br>
<br>

if (! txt.equals("Ala") &amp;&amp; lata &gt; 1) ...<br>
<br>

bo to oznacza³oby konieczno¶æ równoczesnego spe³nienia dwóch warunków:<br>

- napis txt nie jest ala,<br>

- i lata s± wiêksze od 1<br>

(a przecie¿ nie o to nam chodzi³o)<br>
<br>

Piszemy za to:<br>
<br>

if (!( txt.equals("Ala") &amp;&amp; lata &gt; 1)) ...<br>

</div>

<br clear="all">

<p>
U¿ycie dodatkowych nawiasów zmienia kolejno¶æ opracowania wyra¿enia i uzyskujemy po¿±dany efekt.<br>
<br>

Omawiane dot±d operatory nazywaj± siê<A NAME="EDU.skorowidz.termin operator logiczny warunkowy 72_577"></A> warunkowymi operatorami logicznymi, bowiem<br>

obliczanie warto¶ci wyra¿eñ logicznych, konstruowanych za ich pomoc± ma bardzo wa¿n±
w³a¶ciwo¶æ: obliczane s± one od lewej do prawej (wi±zania operatorów logicznych
- oprócz operatora negacji - s± lewostronne), ale proces obliczeñ koñczy
siê ju¿ w momencie gdy tylko wiadomo jaki bêdzie rezultat ca³ego wyra¿enia.
<br>

Oznacza to, ¿e wyra¿enie nie musi byæ wcale opracowywane do koñca; wystarczy,
¿e jego czê¶æ jednoznacznie wskazuje wynik. Na przyk³ad w wyra¿eniu:<br>
<br>

            a &amp;&amp; (b &gt; 0 || c == 1)<br>
<br>

je¶li a jest rowne false, to wyra¿enie w nawiasach nie bêdzie obliczone,
bowiem wynik ca³ego wyra¿enia nie zale¿y ju¿ od tego co jest w nawiasach
(przy a = false zawsze bêdzie false). <br>

Ma to ogromnie wa¿ne konsekwencje, bowiem je¶li oprzemy logike programu na
efektach ubocznych generowanych przy obliczaniu wyra¿eñ, które - w³a¶nie
ze wzglêdu na tê w³a¶ciwo¶æ operatorów logicznych - mog± w ogóle nie podlegaæ
opracowaniu, to mo¿e nas spotkaæ bardzo przykra niespodzianka. <br>
<br>

<p><a href="javascript:popUp('dodatki/W9Prb3.htm',75,75)"><img src="images/Problem.jpg" alt="Problem" hspace="15" width="137" height="84" border="1" align="Right"></a>Zobaczmy to na przyk³adzie poni¿szego programu.
Programista, który go napisa³ chcia³ osiagn±æ nastêpuj±cy efekt: zapytaæ
w dialogach wej¶ciowych o nazwisko i imiê u¿ytkownika, je¶li podano obie
informacje - wyprowadziæ po³±czone nazwisko i imiê, je¶li za¶ zabrak³o ktorej¶
z nich - wyprowadziæ napis "Niepe³na informacja"; nastêpnie pokazaæ dok³adnie
co jest nazwiskiem (mo¿e byæ null) a co imieniem (te¿ mo¿e byæ null, je¶li
nie wprowadzone). Pokusa zwiêz³ego napisania kodu sprawi³a, ¿e nasz programista
siêgn±³ po po³±czenie warunków za pomoc± operatora &amp;&amp;: je¿eli wprowadzono
nazwisko i wprowadzono imiê to txt = nazwisko + imie.
</p>
<br clear="all">

<pre>
import javax.swing.*;

public class EfUb {

  public static void main(String[] args) {

    String nazwisko;
    String imie = null;
    String txt;

    if ((nazwisko = JOptionPane.showInputDialog("Podaj nazwisko")) != null
         &amp;&amp; (imie = JOptionPane.showInputDialog("Podaj imie")) != null
       )
       txt = nazwisko + " " + imie;
    else txt = "Niepe³na informacja";
    System.out.println(txt);
    System.out.println("Imie :" + imie);
    System.out.println("Nazwisko :" + nazwisko);
    System.exit(0);
  }

}
</pre>

<p>
Jednak raczej  wbrew intencjom programisty w tym programie mo¿e nie doj¶æ do zapytania o imiê (bowiem
warto¶æ pierwszego sk³adnika wyra¿enia po³±czonego koniunkcj± &amp;&amp;
mo¿e byæ false - je¶li przy pytaniu o nazwisko u¿ytkownik anulowa³ dialog).<br>
<br>

W Javie s± równie¿<A NAME="EDU.skorowidz.termin operator logiczny bezwarunkowy 72_578"></A> bezwarunkowe  operatory logiczne (zwane czasem po prostu operatorami logicznymi):<br>
<ul>
<li><b>&amp;</b> koniunkcja</li><li><b>|</b>  alternatywa</li><li><b>^</b> "wy³±czaj±ce albo"</li><li><b>~</b> negacja</li>
</ul>

<p>
Bezwarunkowe operatory logicznej koniunkcji (&amp;) i alternatywy ( |) maj±
te same w³a¶ciwo¶ci co operatory &amp;&amp; i || z jednym wyj±tkiem: oba
wyra¿enia-argumenty operatorów s± zawsze opracowywane (dlatego mówimy, ¿e
operatory s± bezwarunkowe).<br>
<br>

<div class="notec">Dodatkowo, w¶ród logicznych operatorów bezwarunkowych,  zdefiniowano
operator "wykluczaj±ce albo" (znak ^), który daje wynik <b>true</b>  gdy warto¶ci obu argumentów operatora s± ró¿ne (czyli true i false lub false i true) oraz <b>false</b> w ka¿dym innym przypadku.</div>

<br>
<p>

Operatory logiczne (bezwarunkowe) s± stosowane wy³±cznie wobec argumentow typu boolean.<br>

Niestety, te same symbole operatorów ( &amp;, |, ^, ~) sa równie¿ u¿ywane
w operatorach bitowych, stosowanych wobec liczb ca³kowitych (i umo¿liwiaj±cych
operowanie na bitach liczb ca³kowitych), co powoduje trochê zamieszania.<br>

Problemem s± tak¿e b³êdy: np. czêsto pocz±tkuj±cy (i nie tylko) programi¶ci
zamiast &amp;&amp; pisz± &amp;, a zamiast || - |. Kompilator nie wykryje
takich b³êdów, a efekt opracowywania takich wyra¿eñ logicznych mo¿e byæ inny
od spodziewanego przez programistê. <br>
<br>

<div class="important">Generalnie wiêc: <br>
 nie nale¿y mieszaæ w wyra¿eniach u¿ycia operatorów
warunkowych i bezwarunkowych (ze wzglêdu na inny sposób dzia³ania oraz inne
priorytety (por. tablicê priorytetów operatorów)).<br>
<br>

Dobr± regu³± "na pocz±tek" jest:<br>
<ul>
<li>stosowaæ wy³±cznie operatory warunkowe, </li><li>a przy tym nie zak³adaæ, ¿e wyra¿enia logiczne bêd± opracowywane w sposób warunkowy (!)</li>
</ul>

</div><p><br clear="all"><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td align="left"><A HREF="index71.html" TARGET="_top"  class="NAWIGACJA">&#171;&nbsp;poprzedni punkt</a>&nbsp;</td><td align="right">&nbsp;<A HREF="index73.html" TARGET="_top" class="NAWIGACJA">nastêpny punkt&nbsp;&#187;</a></td></tr></table></td>
</tr>
</table>
</body>
</html>
