<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="pragma" content="no-cache">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
<meta http-equiv="Content-Language" content="pl">
<title></title>
<meta name="Keywords" content="s³owa kluczowe">
<meta name="Description" content="">
<LINK REL="stylesheet" TYPE="text/css" HREF="../main.css">
<LINK REL="stylesheet" TYPE="text/css" HREF="../style.html">
<script language="JavaScript" src="../skrypty.js" type="text/javascript"></script>
</head>
<body bgcolor="whitesmoke" leftmargin="8" topmargin="8" marginwidth="8" marginheight="8">
<!--body bgcolor="whitesmoke" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0"-->
<!--table width="100%" cellspacing="4" cellpadding="4" border="0"-->
<!--tr-->
    <!--td-->

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td align="left"><A HREF="main05_p5.html" TARGET="main"  class="NAWIGACJA">&#171;&nbsp;poprzedni punkt</a>&nbsp;</td>
<td align="right">&nbsp;<A HREF="main05_cw.html" TARGET="main" class="NAWIGACJA">nastêpny punkt&nbsp;&#187;</a></td>
</tr></table>
<br clear="all"><A NAME="EDU.wyklad.punkt 6"></A>


<br clear="all"><div class="tytulpunktu">6. Sortowanie kube³kowe</div> 

<p>Za³ó¿my teraz, ¿e elementy, które chcemy posortowaæ, s± liczbami rzeczywistymi 
wybranymi losowo, z rozk³adem jednostajnym, z przedzia³u&nbsp; [0,1). </P>

<p><b>Metoda</b></P>

<p>Podzielmy przedzia³ [0,1) na n podprzedzia³ów o takiej samej d³ugo¶ci. Ka¿dy 
przedzia³ traktujemy jako &quot;kube³ek&quot;, do którego wk³adamy te elementy 
danego ci±gu, które nale¿± do odpowiadaj±cego &quot;kube³kowi&quot; przedzia³u.&nbsp; 
Ka¿dy z &quot;kube³ków&quot; sortujemy osobno, a nastêpnie zawarto¶ci &quot;kube³ków&quot; ³±czymy w 
jeden ci±g.</P>

<p><b>Przyk³ad 6.1</b></P>

<p>Niech 0.9, 0.32, 0.74,&nbsp; 0.15, 0.23, 0.21, 0.17, 0.45, 0.28 bêdzie 
ci±giem, który chcemy posortowaæ.&nbsp; W poni¿szej tablicy przedstawiamy stan 
&quot;kube³ków&quot; po rozrzuceniu wszystkich elementów.</P>
<center>
<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="70%" id="AutoNumber1" height="337">
  <tr>
    <td width="10%" align="center" colspan="2" height="16">Dane:</td>
    <td width="5%" align="center" bgcolor="#CCCCCC" height="16">0.32</td>
    <td width="5%" align="center" bgcolor="#CCCCCC" height="16">0.74</td>
    <td width="5%" align="center" bgcolor="#CCCCCC" height="16">0.15</td>
    <td width="5%" align="center" bgcolor="#CCCCCC" height="16">0.23</td>
    <td width="5%" align="center" bgcolor="#CCCCCC" height="16">0.21</td>
    <td width="5%" align="center" bgcolor="#CCCCCC" height="16">0.17</td>
    <td width="5%" align="center" bgcolor="#CCCCCC" height="16">0.45</td>
    <td width="5%" align="center" bgcolor="#CCCCCC" height="16">0.28</td>
    <td width="5%" align="center" bgcolor="#CCCCCC" height="16">0.43</td>
    <td width="5%" align="center" bgcolor="#CCCCCC" height="16">0.90</td>
    <td width="10%" align="center" height="222" colspan="2" rowspan="14">S<br>
    O<br>
    R<br>
    T<br>
    O<br>
    W<br>
    A<br>
    N<br>
    I<br>
    E</td>
  </tr>
  <tr>
    <td width="60%" align="center" height="16" colspan="12"></td>
  </tr>
  <tr>
    <td width="5%" align="center" rowspan="10" bgcolor="#FFFFCC" height="167">K<br>
    U<br>
    B<br>
    E<br>
    £<br>
    K<br>
    I</td>
    <td width="5%" align="center" height="16">L[0]</td>
    <td width="5%" align="center" height="16"><span lang="en">
    <font face="Symbol">&reg;</font></span></td>
    <td width="15%" align="center" colspan="3" height="16"></td>
    <td width="5%" align="center" height="174" rowspan="11">&nbsp;</td>
    <td width="5%" align="center" height="16">L[0]</td>
    <td width="5%" align="center" height="16"><span lang="en">
    <font face="Symbol">&reg;</font></span></td>
    <td width="15%" align="center" height="16" colspan="3"></td>
  </tr>
  <tr>
    <td width="5%" align="center" height="16">L[1]</td>
    <td width="5%" align="center" height="16"><span lang="en">
    <font face="Symbol">&reg;</font></span></td>
    <td width="5%" align="center" bgcolor="#E6F0EB" height="16">.15</td>
    <td width="5%" align="center" bgcolor="#E6F0EB" height="16">.17</td>
    <td width="5%" align="center" height="16"></td>
    <td width="5%" align="center" height="16">L[1]</td>
    <td width="5%" align="center" height="16"><span lang="en">
    <font face="Symbol">&reg;</font></span></td>
    <td width="5%" align="center" bgcolor="#E6F0EB" height="16">.15</td>
    <td width="5%" align="center" bgcolor="#E6F0EB" height="16">.17</td>
    <td width="5%" align="center" height="16"></td>
  </tr>
  <tr>
    <td width="5%" align="center" height="14">L[2]</td>
    <td width="5%" align="center" height="14"><span lang="en">
    <font face="Symbol">&reg;</font></span></td>
    <td width="5%" align="center" bgcolor="#E6F0EB" height="14">.23</td>
    <td width="5%" align="center" bgcolor="#E6F0EB" height="14">.21</td>
    <td width="5%" align="center" bgcolor="#E6F0EB" height="14">.28</td>
    <td width="5%" align="center" height="14">L[2]</td>
    <td width="5%" align="center" height="14"><span lang="en">
    <font face="Symbol">&reg;</font></span></td>
    <td width="5%" align="center" bgcolor="#E6F0EB" height="14">.21</td>
    <td width="5%" align="center" bgcolor="#E6F0EB" height="14">.23</td>
    <td width="5%" align="center" bgcolor="#E6F0EB" height="14">.28</td>
  </tr>
  <tr>
    <td width="5%" align="center" height="16">L[3]</td>
    <td width="5%" align="center" height="16"><span lang="en">
    <font face="Symbol">&reg;</font></span></td>
    <td width="5%" align="center" bgcolor="#E6F0EB" height="16">.32</td>
    <td width="10%" align="center" colspan="2" height="16"></td>
    <td width="5%" align="center" height="16">L[3]</td>
    <td width="5%" align="center" height="16"><span lang="en">
    <font face="Symbol">&reg;</font></span></td>
    <td width="5%" align="center" height="16" bgcolor="#E6F0EB">.32</td>
    <td width="10%" align="center" height="16" colspan="2"></td>
  </tr>
  <tr>
    <td width="5%" align="center" height="16">L[4]</td>
    <td width="5%" align="center" height="16"><span lang="en">
    <font face="Symbol">&reg;</font></span></td>
    <td width="5%" align="center" bgcolor="#E6F0EB" height="16">.45</td>
    <td width="5%" align="center" bgcolor="#E6F0EB" height="16">.43</td>
    <td width="5%" align="center" height="16"></td>
    <td width="5%" align="center" height="16">L[4]</td>
    <td width="5%" align="center" height="16"><span lang="en">
    <font face="Symbol">&reg;</font></span></td>
    <td width="5%" align="center" height="16" bgcolor="#E6F0EB">.43</td>
    <td width="5%" align="center" height="16" bgcolor="#E6F0EB">.45</td>
    <td width="5%" align="center" height="16"></td>
  </tr>
  <tr>
    <td width="5%" align="center" height="16">L[5]</td>
    <td width="5%" align="center" height="16"><span lang="en">
    <font face="Symbol">&reg;</font></span></td>
    <td width="15%" align="center" colspan="3" height="16"></td>
    <td width="5%" align="center" height="16">L[5]</td>
    <td width="5%" align="center" height="16"><span lang="en">
    <font face="Symbol">&reg;</font></span></td>
    <td width="15%" align="center" height="16" colspan="3"></td>
  </tr>
  <tr>
    <td width="5%" align="center" height="16">L[6]</td>
    <td width="5%" align="center" height="16"><span lang="en">
    <font face="Symbol">&reg;</font></span></td>
    <td width="15%" align="center" colspan="3" height="16"></td>
    <td width="5%" align="center" height="16">L[6]</td>
    <td width="5%" align="center" height="16"><span lang="en">
    <font face="Symbol">&reg;</font></span></td>
    <td width="15%" align="center" height="16" colspan="3"></td>
  </tr>
  <tr>
    <td width="5%" align="center" height="16">L[7]</td>
    <td width="5%" align="center" height="16"><span lang="en">
    <font face="Symbol">&reg;</font></span></td>
    <td width="5%" align="center" bgcolor="#E6F0EB" height="16">.74</td>
    <td width="10%" align="center" colspan="2" height="16"></td>
    <td width="5%" align="center" height="16">L[7]</td>
    <td width="5%" align="center" height="16"><span lang="en">
    <font face="Symbol">&reg;</font></span></td>
    <td width="5%" align="center" height="16" bgcolor="#E6F0EB">.74</td>
    <td width="10%" align="center" height="16" colspan="2"></td>
  </tr>
  <tr>
    <td width="5%" align="center" height="16">L[8]</td>
    <td width="5%" align="center" height="16"><span lang="en">
    <font face="Symbol">&reg;</font></span></td>
    <td width="15%" align="center" colspan="3" height="16"></td>
    <td width="5%" align="center" height="16">L[8]</td>
    <td width="5%" align="center" height="16"><span lang="en">
    <font face="Symbol">&reg;</font></span></td>
    <td width="15%" align="center" height="16" colspan="3"></td>
  </tr>
  <tr>
    <td width="5%" align="center" height="16">L[9]</td>
    <td width="5%" align="center" height="16"><span lang="en">
    <font face="Symbol">&reg;</font></span></td>
    <td width="5%" align="center" bgcolor="#E6F0EB" height="16">.90</td>
    <td width="10%" align="center" height="16" colspan="2"></td>
    <td width="5%" align="center" height="16">L[9]</td>
    <td width="5%" align="center" height="16"><span lang="en">
    <font face="Symbol">&reg;</font></span></td>
    <td width="5%" align="center" height="16" bgcolor="#E6F0EB">.90</td>
    <td width="10%" align="center" height="16" colspan="2"></td>
  </tr>
  <tr>
    <td width="30%" align="center" colspan="6" bgcolor="#FFFFCC" height="16">po 
    rozrzuceniu </td>
    <td width="25%" align="center" height="16" colspan="5" bgcolor="#FFFFCC">po 
    posortowaniu</td>
  </tr>
  <tr>
    <td width="60%" align="center" height="16" colspan="12"></td>
  </tr>
  <tr>
    <td width="20%" align="center" height="16" colspan="4">Po po³±czeniu 
    kube³ków</td>
    <td width="5%" align="center" height="16" bgcolor="#C0C0C0">.15</td>
    <td width="5%" align="center" height="16" bgcolor="#C0C0C0">.17</td>
    <td width="5%" align="center" height="16" bgcolor="#C0C0C0">.21</td>
    <td width="5%" align="center" height="16" bgcolor="#C0C0C0">.23</td>
    <td width="5%" align="center" height="16" bgcolor="#C0C0C0">.28</td>
    <td width="5%" align="center" height="16" bgcolor="#C0C0C0">.32</td>
    <td width="5%" align="center" height="16" bgcolor="#C0C0C0">.43</td>
    <td width="5%" align="center" height="16" bgcolor="#C0C0C0">.45</td>
    <td width="5%" align="center" height="16" bgcolor="#C0C0C0">.74</td>
    <td width="5%" align="center" height="16" bgcolor="#C0C0C0">.90</td>
  </tr>
</table>
</center>

<p>Wprawdzie spodziewamy siê, ¿e ¶rednio w ka¿dym &quot;kube³ku&quot; jest tylko jeden 
element, ale nie musi tak byæ. W algorytmie BucketSort, realizuj±cym opisan± 
wy¿ej metodê, zaproponowano u¿ycie algorytmu InsertionSort do sortowania zawarto¶ci &quot;kube³ków&quot;. </P>
<p>Niech dany do posortowania ci±g e<sub><font face="Verdana">1</font></sub>,...,e<sub><font face="Verdana">n</font></sub> 
bêdzie zapisany w tablicy e[1],...,e[n] i niech spe³nione bêd± warunki 0
<font face="Symbol"><span lang="en">&pound;</span> </font>e[i] &lt;1. Zak³adamy 
ponadto , ¿e mamy do dyspozycji pomocnicz± tablicê L, n list, L[0],...,L[n-1], 
które bêd± pe³ni³y rolê &quot;kube³ków&quot;. Wynikiem dzia³ania algorytmu bêdzie 
wypisanie elementów danego ci±gu e<sub><font face="Verdana">1</font></sub>,...,e<sub><font face="Verdana">n </font></sub>
w porz±dku niemalej±cym.</p>
<p>
<div class="def" style="width: 719; height: 208">
   <TABLE frame="void" rules="none" width="706" height="178">
         <TR>
            <TD width="690" height="12" colspan="2">BucketSort{</TD>
             
            <TD width="27" height="12"></TD>
             
            <TD width="522" height="12"> </TD>
             
         </TR>
         <TR>
            <TD width="59" height="12"></TD>
            <TD width="631" height="12"><strong>&nbsp;for </strong>i := 1<strong> to </strong>
            n<strong> do </strong>
            </TD> 
            <TD width="27" height="12"></TD> 
            <TD width="522" height="12"></TD> 
         </TR>
         <TR>
            <TD width="59" height="12"></TD>
            <TD width="631" height="12"><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</strong>dopisz 
            e[i] do listy L[ <span lang="en"><font face="Symbol">ë</font></span>n<span lang="en"><font face="Symbol">´</font></span>e[i]<span lang="en"><font face="Symbol">&ucirc;</font></span>]</TD> 
            <TD width="27" height="12"></TD> 
            <TD width="522" height="12">//&nbsp;rozrzuæ wszystkie liczby do 
            &quot;kube³ków&quot;</TD> 
         </TR>
         <TR>
            <TD width="59" height="12"></TD>
            <TD width="631" height="12">   <strong>od;&nbsp;
            </strong>&nbsp;&nbsp;&nbsp;&nbsp; <STRONG>&nbsp;&nbsp; </STRONG>
             </TD>
            <TD width="27" height="12">   </TD>
            <TD width="522" height="12">   </TD>
         </TR>
         <TR>
            <TD width="59" height="12"></TD>
            <TD width="631" height="12">   <strong>&nbsp;for
            </strong>i := 0&nbsp; <b>to</b> n-1<b> do</b><strong>&nbsp;&nbsp;&nbsp;&nbsp;
            </strong></TD>
            <TD width="27" height="12">   </TD>
            <TD width="522" height="12">   &nbsp;</TD>
         </TR>
         <TR>
            <TD width="59" height="12"></TD>
            <TD width="631" height="12">   &nbsp;<strong>&nbsp;&nbsp;&nbsp; &nbsp;</strong>posortuj 
            listê L[i] algorytmem InsertionSort&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TD>
            <TD width="27" height="12">   </TD>
            <TD width="522" height="12">   //posortuj ka¿dy z &quot;kube³ków&quot; osobno </TD>
         </TR>
         <TR>
            <TD width="59" height="12"></TD>
            <TD width="631" height="12">   &nbsp;<b>od</b>;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TD>
            <TD width="27" height="12">   </TD>
            <TD width="522" height="12">   </TD>
         </TR>
         <TR>
            <TD width="59" height="12"></TD>
            <TD width="631" height="12">   &nbsp;&nbsp; Wypisz kolejno elementy 
            list L[0],L[1],..., L[n-1]&nbsp; </TD>
            <TD width="27" height="12">   </TD>
            <TD width="522" height="12">   //po³±cz &quot;kube³ki&quot;</TD>
         </TR>
         <TR>
            <TD width="59" height="1"><strong>&nbsp;&nbsp;&nbsp;&nbsp; }</strong></TD>
            <TD width="631" height="1">   &nbsp;<STRONG>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </STRONG></TD>
            <TD width="27" height="1">   </TD>
            <TD width="522" height="1">   </TD>
         </TR>
         </TABLE>
</div>

<p><b>Poprawno¶æ algorytmu</b></P><p>Dla dowodu poprawno¶ci przedstawionego algorytmu sprawd¼my przede wszystkim, 
czy elementy ci±gu e trafiaj± do w³a¶ciwej listy. Poniewa¿&nbsp; przedzia³ [0, 
1) zosta³ podzielony na równe czê¶ci, zatem lista L[i] odpowiada przedzia³owi 
[i/n, (i+1)/n). Liczba e[i] powinna siê wiêc znale¼æ w &quot;kube³ku&quot; j-tym, je¿eli&nbsp; 
j/n<font face="Symbol">&nbsp; <span lang="en">&pound;</span> </font>e[i] &lt; (j+1)/n. 
Mamy</P><p style="text-align: center"><span lang="en"><font face="Symbol">ë</font></span>n<span lang="en"><font face="Symbol">´</font></span>e[i]<span lang="en"><font face="Symbol">&ucirc;</font></span><font face="Symbol">
<span lang="en">&pound;</span> </font>n<span lang="en"><font face="Symbol">´</font></span>e[i] 
&lt; <span lang="en"><font face="Symbol">ë</font></span>n<span lang="en"><font face="Symbol">´</font></span>e[i]<font face="Symbol"><span lang="en">&ucirc;</span>+1.</font></P><p>Przyjmuj±c j = <span lang="en"><font face="Symbol">ë</font></span>n<span lang="en"><font face="Symbol">´</font></span>e[i]<font face="Symbol"><span lang="en">&ucirc;</span>
</font>i umieszczaj±c e[i] na li¶cie&nbsp; L[<font face="Symbol">ë</font>n<font face="Symbol">´</font>e[i]<span lang="en"><font face="Symbol">&ucirc;</font></span>] 
otrzymamy czê¶ciowe posortowanie danego ci±gu. Mo¿emy wiêc stwierdziæ, ¿e&nbsp; 
po wykonaniu pierwszej pêtli &quot;for&quot; prawdziwa jest w³asno¶æ: ka¿dy element danego 
ci±gu znajduje siê na dok³adnie jednej z list L[0],..., L[n-1], oraz elementy 
listy L[i] s± mniejsze od wszystkich elementów listy L[i+1], dla i = 0,1,...,n-1.</P><p>Przyjmuj±c, ¿e algorytm InsertionSort sortuje poprawnie elementy ka¿dego &quot;kube³ka&quot; w porz±dku 
niemalej±cym, po wypisaniu kolejno elementów list 
L[0],...,L[n-1] otrzymamy ci±g uporz±dkowany niemalej±co.</P><p></P>

<div class="twier">
<p>Twierdzenie 6.1&nbsp;&nbsp; Dla dowolnych danych spe³niaj±cych warunek 
pocz±tkowy&nbsp; { 0<font face="Symbol"> <span lang="en">&pound;</span> </font>e[i] &lt; 
1} w strukturze liczb rzeczywistych algorytm BucketSort zatrzymuje siê, a 
wypisany w wyniku dzia³ania algorytmu ci±g, jest uporz±dkowan± niemalej±co 
permutacj± elementów danego ci±gu.</P>
 
</div>

 

<p><b>Koszt algorytmu</b></P><p>Zauwa¿my, ¿e koszt pierwszej pêtli i koszt wypisania zawarto¶ci wszystkich 
list jest liniowy <font face="Symbol">Q</font>(n), dla ci±gu n elementowego. 
Pozostaje zbadaæ koszt zwi±zany z sortowaniem list. Algorytm InsertionSort jest 
wprawdzie algorytmem o z³o¿ono¶ci kwadratowej, ale nie spodziewamy siê du¿ej 
liczby elementów w jednym &quot;kube³ku&quot;. Je¿eli n[j] jest liczb± elementów 
w j-tej li¶cie, to koszt algorytmu BucketSort&nbsp; mo¿na oszacowaæ nastêpuj±co:</P><p style="text-align: center">T(n) =&nbsp; <font face="Symbol">Q</font>(n) +
<font face="Symbol" size="3">S</font><sub><font face="Verdana">j=0,...,n-1
</font></sub>O( n[j]<sup><font face="Verdana">2</font></sup>).</P><p>Za³ó¿my, ¿e ka¿dy element danego ci±gu wpada do dowolnego kube³ka z takim 
samym prawdopodobieñstwem. Mo¿na wtedy pokazaæ, ¿e warto¶æ oczekiwana kwadratu 
liczby elementów w j-tym &quot;kube³ku&quot; wynosi E(n[j]<sup><font face="Verdana">2</font></sup>)= 
2-1/n. St±d, warto¶æ oczekiwana liczby wykonanych operacji w algorytmie 
BucketSort&nbsp; wynosi<font face="Symbol">&nbsp; Q</font>(n) +&nbsp; n ( 2-1/n)&nbsp; 
i jest liniowa wzglêdem rozmiaru danych.</P><p><b>Pytanie 7</b> : Jaki jest pesymistyczny czas dzia³ania algorytmu 
BucketSort, zastosowanego do n elementowego ci±gu?</P> 

<FORM>
<p>
<INPUT class="GUZIK" TYPE='button' VALUE='------Zobacz odpowied¼------' NAME='Klik0'
 onClick="napis(this.form,'W najgorszym przypadku wszystkie elementy wpadn± do tego samego &quot;kube³ka&quot;.');">
</p>
</form>

 

<FORM>
<p>
<INPUT class="GUZIK" TYPE='button' VALUE='------Zobacz odpowied¼ c.d.------' NAME='Klik0' 
onClick="napis(this.form,'Algorytm InsertionSort wykona wtedy O(n * n) porównañ. ');">
</p>
</form>

<p><br clear="all">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td align="left"><A HREF="main05_p5.html" TARGET="main"  class="NAWIGACJA">&#171;&nbsp;poprzedni punkt</a>&nbsp;</td>
<td align="right">&nbsp;<A HREF="main05_cw.html" TARGET="main" class="NAWIGACJA">nastêpny punkt&nbsp;&#187;</a></td>
</tr></table>
</tr></table><!--/td-->
<!--/tr-->
<!--/table-->
</body>
</html>