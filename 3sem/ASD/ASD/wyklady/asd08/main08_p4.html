<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="pragma" content="no-cache">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
<meta http-equiv="Content-Language" content="pl">
<title></title>
<meta name="Keywords" content="s³owa kluczowe">
<meta name="Description" content="">
<LINK REL="stylesheet" TYPE="text/css" HREF="../main.css">
<LINK REL="stylesheet" TYPE="text/css" HREF="../style.html">
<script language="JavaScript" src="../skrypty.js" type="text/javascript"></script>
</head>
<body bgcolor="whitesmoke" leftmargin="8" topmargin="8" marginwidth="8" marginheight="8">
<!--body bgcolor="whitesmoke" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0"-->
<!--table width="100%" cellspacing="4" cellpadding="4" border="0"-->
<!--tr-->
    <!--td--><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr>
<td align="left"><A HREF="main08_p3.html" TARGET="main"  class="NAWIGACJA">&#171;&nbsp;poprzedni punkt</a>&nbsp;</td>
<td align="right">&nbsp;<A HREF="main08_p5.html" TARGET="main" class="NAWIGACJA">nastêpny punkt&nbsp;&#187;</a></td></tr></table>
<br clear="all"><A NAME="EDU.wyklad.punkt 4"></A>

<br clear="all">
<div class="tytulpunktu">4. Usuwanie z drzewa AVL.</div>
</p>






<p></P>
<p>Zasada usuwania elementu z drzewa AVL,</P>

<p style="text-align: center">delete : Et <font face="Symbol"><span lang="en">´</span>
</font>AVL <font face="Symbol"><span lang="en">&reg;</span> </font>AVL,</P>

<p>jest prawie taka sama, jak dla drzew binarnych poszukiwañ. Jednak, podobnie 
jak w przypadku wstawiania elementu, wynikiem zastosowania procedury delete, 
opisanej dla drzew binarnych poszukiwañ, nie zawsze otrzymane drzewo jest 
wywa¿one.&nbsp; Postêpowania bêdzie wiêc nieco bardziej skomplikowana ni¿ dla 
drzew BST.</P>

<p><b>Metoda</b></P>

<ol>
  <li>Znajd¼ 
wierzcho³ek z etykiet±, któr± chcesz usun±æ z drzewa (o ile znajduje siê ona w 
  drzewie),</li>
  <li>Usuñ tê etykietê stosuj±c algorytm delete dla BST,</li>
  <li>Wylicz wagi wierzcho³ków na ¶cie¿ce od usuniêtego wierzcho³ka w kierunku korzenia drzewa,</li>
  <li>Wykonaj rotacjê wzglêdem ka¿dego napotkanego wierzcho³ka, którego waga 
  wynosi +2 lub -2.</li>
</ol>

<p>Zauwa¿my, ¿e faktycznie usuwany wierzcho³ek, o którym mowa w punkcie 3 
opisanej metody, nie zawsze jest tym wierzcho³kiem, którego etykietê usuwamy 
(por. algorytm delete dla BST, przypadek, gdy wierzcho³ek z usuwan± etykiet± ma 
dwa nastêpniki).</P>

<p><b>Przyk³ad 4.1</b></P>

<p>Rozwa¿my przyk³ad przedstawiony na rysunku 8.9(a). Usuniêcie etykiety 1 
spowoduje odwi±zanie wêz³a z t± etykiet±, bo jest on li¶ciem w tym drzewie. 
Wynikiem usuniêcia 1 jest drzewo przedstawione na rysunku 8.9(b). Poza 
wierzcho³kiem z etykiet± 2, nie zmieni³y siê ¿adne dowi±zania, ani wagi 
wierzcho³ków.</P>

<table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="60%" id="AutoNumber1">
  <tr>
    <td width="50%">
    <img border="0" src="Rysunki/Rysunek8_9a.gif" width="300" height="250"></td>
    <td width="50%">
    <img border="0" src="Rysunki/Rysunek8_9b.gif" width="300" height="250"></td>
  </tr>
</table>

<p>Je¶li teraz usuniemy z drzewa (rysunek 8.9(b)) etykietê korzenia, to sytuacja 
jest du¿o bardziej skomplikowana. Przede wszystkim nie usuwamy bezpo¶rednio 
wierzcho³ka z etykiet± 10, ale jego bezpo¶redni nastêpnik (tzn. najmniejszy 
element w jego prawym poddrzewie), wierzcho³ek z etykiet± 11. Etykieta 11 
znajdzie siê teraz w korzeniu drzewa wynikowego. Otrzymane drzewo jest drzewem 
binarnych poszukiwañ, nie jest jednak drzewem AVL (por. rysunek 8.9(d)). </P>

<table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="60%" id="AutoNumber2">
  <tr>
    <td width="50%">
    <img border="0" src="Rysunki/Rysunek8_9c.gif" width="300" height="250"></td>
    <td width="50%">
    <img border="0" src="Rysunki/Rysunek8_9d.gif" width="300" height="250"></td>
  </tr>
</table>

<p>Zgodnie z punktem 3 opisanej metody modyfikujemy wagi (o ile to potrzebne) 
wierzcho³ków cofaj±c siê wzd³u¿ ¶cie¿ki poszukiwañ. Poniewa¿ wierzcho³ek z 
etykiet± 12, który obejrzymy jako pierwszy, ma teraz wagê -2, nale¿y wykonaæ 
rotacjê prost± w lewo. Wynik tej rotacji jest przedstawiony na rysunku 8.9 (d). 
Jednak otrzymane drzewo binarnych poszukiwañ nie jest wywa¿one, o czym siê 
przekonamy wyliczaj±c wagê korzenia drzewa: rotacja spowodowa³a zmniejszenie 
wysoko¶ci prawego poddrzewa, które ju¿ wcze¶niej mia³o mniejsz± wysoko¶æ. 
Zgodnie z punktem 4 musimy kontynuowaæ wykonywanie rotacji, tym razem wzglêdem 
korzenia drzewa (wierzcho³ek z etykiet± 11). Wynik rotacji jest przedstawiony na 
rysunku 8.9 (e). <font face="Wingdings">J</font></P>

<table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="60%" id="AutoNumber3">
  <tr>
    <td width="50%">
    <img border="0" src="Rysunki/Rysunek8_9e.gif" width="300" height="250"></td>
    <td width="50%">&nbsp;</td>
  </tr>
</table>

<p>Zwróæmy jeszcze raz uwagê na istotn± ró¿nice w procesie wywa¿ania drzewa dla 
operacji insert i dla operacji delete. O ile w przypadku wstawiania nowego 
elementu, zawsze wystarczy co najwy¿ej jedna rotacja, to nie jest tak w 
przypadku usuwania. Usuniêcie etykiety 10, w przyk³adzie 4.1, zmusi³o nas do 
wykonania dwóch rotacji. A jak jest w przypadku ogólnym? Jaka mo¿e byæ liczba 
niezbêdnych rotacji, je¶li drzewo ma n elementów?</P>

<p><Form>
<INPUT class="GUZIK" TYPE='button' VALUE='Zobacz odpowied¼' NAME='Klik0' 
onClick="napis(this.form,'O(lg n) rotacji.');"> 
</FORM></P>

<p>Rozwa¿my drzewo D<sub><font face="Verdana">1</font></sub> = &lt;LD<sub><font face="Verdana">1</font></sub>,B,PD<sub><font face="Verdana">1</font></sub>&gt; 
i niech waga wierzcho³ka B wynosi -1, tzn. prawe poddrzewo, oznaczone tu przez 
PD<sub><font face="Verdana">1</font></sub>, jest wy¿sze ni¿ lewe poddrzewo. 
Za³ó¿my teraz, ¿e usuniêcie jakiego¶ elementu&nbsp; x spowodowa³o zmniejszenie 
wysoko¶ci poddrzewa LD<sub><font face="Verdana">1</font></sub>. Zatem, dla 
odzyskania równowagi, konieczna bêdzie rotacja w lewo (prosta lub podwójna) 
wzglêdem korzenia B. Wykonanie tej rotacji mo¿e spowodowaæ zmniejszenie siê 
wysoko¶ci drzewa D<sub><font face="Verdana">1</font></sub>. Niech teraz D<sub><font face="Verdana">1</font></sub>, 
bêdzie prawym poddrzewem pewnego drzewa D<sub><font face="Verdana">2</font></sub> 
= &lt;LD<sub><font face="Verdana">2</font></sub>,A,D<sub><font face="Verdana">1</font></sub>&gt; 
o korzeniu A<font face="Verdana"><sub> </sub></font>i lewym poddrzewie LD<sub><font face="Verdana">2</font></sub>, 
którego wysoko¶æ by³a o jeden wiêksza ni¿ wysoko¶æ drzewa D<sub><font face="Verdana">1</font></sub>. 
Wynika st±d, ¿e waga w wierzcho³ku A zmieni³a siê z +1 na +2. Wymagana jest wiêc 
rotacja wzglêdem wierzcho³ka A.&nbsp; Ta rotacja mog³a zmniejszyæ wysoko¶æ 
drzewa D<sub><font face="Verdana">2</font></sub>. Kontynuuj±c, mo¿emy sobie 
wyobraziæ, ¿e drzewo D<sub><font face="Verdana">2</font></sub>&nbsp; jest lewym 
poddrzewem pewnego drzewa D<sub><font face="Verdana">3</font></sub> = &lt;D<sub><font face="Verdana">2</font></sub>, 
C, PD<sub><font face="Verdana">3</font></sub>&gt;, którego prawe poddrzewo&nbsp; PD<sub><font face="Verdana">3
</font></sub>by³o na pocz±tku o 1 wy¿sze ni¿ drzewo D<sub><font face="Verdana">2</font></sub>. 
W wyniku zmiany wysoko¶ci w obrêbie drzewa D<sub><font face="Verdana">2</font></sub>, 
waga w korzeniu drzewa D<sub><font face="Verdana">3</font></sub> zmieni siê z -1 
na -2, a wiêc konieczna bêdzie rotacja wzglêdem tego wierzcho³ka, itd. Z tych 
rozwa¿añ wynika, ¿e w najgorszym przypadku jedno usuniêcie etykiety mo¿e 
spowodowaæ &quot;lawinê&quot; kolejnych&nbsp; rotacji dla wszystkich wierzcho³ków wzd³u¿ 
jednej ¶cie¿ki, od usuniêtego wierzcho³ka do korzenia. Liczba rotacji mo¿e wiêc 
byæ oszacowana przez O(lgn), dla drzewa o n wierzcho³kach.</P>

<p><b>Pytanie 4</B>: Co bêdzie etykiet± korzenia drzewa AVL, je¶li zosta³o ono 
utworzone przez kolejne wstawianie, do pocz±tkowo pustego drzewa, elementów 
1,2,3,4,5,6,7,8,9,0, a nastêpnie usuniêcie etykiety, która znalaz³a siê w 
korzeniu drzewa? <BR>
 
</P>

<FORM>
<p>
<INPUT class="GUZIK" TYPE='button' VALUE='Zobacz odpowied¼' NAME='Klik0' 
onClick="napis(this.form,'Etykieta 5.');"> </p>
</form>

<p><br clear="all"><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr>
<td align="left"><A HREF="main08_p3.html" TARGET="main"  class="NAWIGACJA">&#171;&nbsp;poprzedni punkt</a>&nbsp;</td>
<td align="right">&nbsp;<A HREF="main08_p5.html" TARGET="main" class="NAWIGACJA">nastêpny punkt&nbsp;&#187;</a></td></tr></table>
</dir>
</dir>
<!--/td-->
<!--/tr-->
<!--/table-->
</body>
</html>