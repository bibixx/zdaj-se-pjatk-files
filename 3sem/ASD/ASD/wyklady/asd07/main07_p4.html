<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="pragma" content="no-cache">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
<meta http-equiv="Content-Language" content="pl">
<title></title>
<meta name="Keywords" content="s³owa kluczowe">
<meta name="Description" content="">
<LINK REL="stylesheet" TYPE="text/css" HREF="../main.css">
<LINK REL="stylesheet" TYPE="text/css" HREF="../style.html">
<script language="JavaScript" src="../skrypty.js" type="text/javascript"></script>
</head>
<body bgcolor="whitesmoke" leftmargin="8" topmargin="8" marginwidth="8" marginheight="8">
<!--body bgcolor="whitesmoke" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0"-->
<!--table width="100%" cellspacing="4" cellpadding="4" border="0"-->
<!--tr-->
    <!--td--><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr>
<td align="left"><A HREF="main07_p3.html" TARGET="main"  class="NAWIGACJA">&#171;&nbsp;poprzedni punkt</a>&nbsp;</td>
<td align="right">&nbsp;<A HREF="main07_p5.html" TARGET="main" class="NAWIGACJA">nastêpny punkt&nbsp;&#187;</a></td></tr></table>
<br clear="all"><A NAME="EDU.wyklad.punkt 4"></A>

<br clear="all">
<div class="tytulpunktu">4. Operacja wstawiania do BST</div>
</p>
<p>Operacja <i>insert, </i>wstawiania elementu do drzewa BST jest operacj± 
dwuargumentow±,  </p>
<p style="text-align: center">insert : Et <font face="Symbol"><span lang="en">´</span> </font>
BST <font face="Symbol"><span lang="en">&reg;</span> </font>BST,  </p>
<p>która dla danej 
etykiety e i drzewa binarnych poszukiwañ D daje w wyniku drzewo binarnych 
poszukiwañ D* spe³niaj±ce warunek wk,</p>
<p style="text-align: center">wk = (member(e,D*) <font face="Symbol">
<span lang="en">&Ugrave;</span></font> (<font face="Symbol">&quot;</font>x, e<font face="Symbol"><span lang="en">&sup1;</span></font>x) 
(member(x,D) <font face="Symbol"><span lang="en">&ordm;</span> </font>member(x,D*))).</p>
<p>Etykietami w drzewie D* s± dok³adnie etykiety drzewa D oraz etykieta e. 
Wynika st±d, ¿e je¶li e by³a etykiet± jakiego¶ wierzcho³ka w drzewie D, to po 
wykonaniu operacji insert(e,D) zbiór etykiet nie ulegnie zmianie.</p>
<p>Naszym zadaniem w tym punkcie, jest przedstawienie jednorodnego postêpowania, 
które pozwoli zrealizowaæ do³±czanie nowej etykiety do dowolnego drzewa binarnych 
poszukiwañ, tak by w wyniku&nbsp; powsta³o równie¿ drzewo binarnych poszukiwañ. </p>
<p><b>Metoda</b></p>
<p>Zaczynaj±c od korzenia drzewa D, przegl±damy wierzcho³ki w poszukiwaniu 
elementu e.&nbsp; Je¶li e jest etykiet± w tym drzewie, to wynikiem jest dane 
drzewo D. Je¶li e nie wystêpuje w D, znajdujemy wierzcho³ek v, który móg³by byæ 
ojcem wierzcho³ka z etykiet± e. Tworzymy nowy wierzcho³ek, przypisujemy mu 
etykietê e i do³±czamy go jako lewego syna 
wierzcho³ka v, gdy e &lt; v.val, i jako prawego syna v, gdy&nbsp; v.val &lt; e. 
Oczywi¶cie, je¶li drzewo jest puste, to w wyniku otrzymamy drzewo z³o¿one z 
jednego tylko wierzcho³ka z etykiet± e.</p>
  


<p><b>Algorytm </b></p>
<p>Algorytm <i>insert</i> jest niewielk± modyfikacj± algorytmu <i>member</i>. Teraz 
jednak interesuje nas nie tylko informacja, czy e jest, czy nie jest etykiet± 
drzewa. Chcemy te¿ znaæ w³a¶ciwe miejsce, dla etykiety e, je¶li jeszcze nie 
wystêpowa³a w tym drzewie. Tym w³a¶ciwym miejscem&nbsp; jest ostatni wierzcho³ek 
na ¶cie¿ce poszukiwañ etykiety e. W poni¿szym algorytmie zak³adamy, ¿e <i>new 
node</i> jest instrukcj± utworzenia nowego wierzcho³ka z wszystkimi atrybutami 
równymi null. Zadaniem zmiennej bool jest przerwanie wykonywania pêtli, gdy 
postêpowanie zostanie zakoñczone.</p>
<p>
<div class="def" style="width: 700; ">
   <TABLE frame="void" rules="none" width="660"  bordercolorlight="#808080" bordercolordark="#FFFFFF" style="border-collapse: collapse" bordercolor="#111111" cellpadding="0" cellspacing="0">
         <TR>
            <TD width="754" height="24" colspan="2">&nbsp;node insert(e : Et, root : 
            node) <b>{</b></TD>
             
            <TD width="29" height="24"></TD>
             
            <TD width="447" height="24"> &nbsp;</TD>
             
         </TR>
         <TR>
            <TD width="59" height="22"></TD>
            <TD width="695" height="22"><b>if</b> (root = null) <b>then</b>&nbsp;</TD> 
            <TD width="29" height="22"></TD> 
            <TD width="447" height="22">//je¶li drzewo jest puste, to tworzymy 
            wierzcho³ek &nbsp;z etykiet± e, jako root&nbsp;&nbsp;&nbsp;&nbsp; </TD> 
         </TR>
         <TR>
            <TD width="59" height="21"></TD>
            <TD width="695" height="21">&nbsp;&nbsp;&nbsp;&nbsp; root:= new node; root.val := e;</TD> 
            <TD width="29" height="21"></TD> 
            <TD width="447" height="21"><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </strong></TD> 
         </TR>
         <TR>
            <TD width="59" height="24"></TD>
            <TD width="695" height="24"><b>else</b> <strong>
            &nbsp;&nbsp;</strong></TD> 
            <TD width="29" height="24"></TD> 
            <TD width="447" height="24"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TD> 
         </TR>
         <TR>
            <TD width="59" height="24">&nbsp;</TD>
            <TD width="695" height="24">&nbsp;&nbsp;&nbsp;&nbsp; bool := false; 
            v := root; </TD> 
            <TD width="29" height="24">&nbsp;</TD> 
            <TD width="447" height="24"> &nbsp;</TD> 
         </TR>
         <TR>
            <TD width="59" height="24">&nbsp;</TD>
            <TD width="695" height="24">&nbsp;&nbsp;&nbsp;&nbsp; <b>while</b> 
            (not bool) <b>do</b></TD> 
            <TD width="29" height="24">&nbsp;</TD> 
            <TD width="447" height="24"> &nbsp;</TD> 
         </TR>
         <TR>
            <TD width="59" height="24">&nbsp;</TD>
            <TD width="695" height="24">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <b>&nbsp; if</b> (v.val 
            = e) <b>then </b>bool := true</TD> 
            <TD width="29" height="24">&nbsp;</TD> 
            <TD width="447" height="24"> //&nbsp;je¶li e jest etykiet± w tym drzewie, 
            to wynikiem jest to samo drzewo&nbsp; </TD> 
         </TR>
         <TR>
            <TD width="59" height="24">&nbsp;</TD>
            <TD width="695" height="24">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <b>else</b></TD> 
            <TD width="29" height="24">&nbsp;</TD> 
            <TD width="447" height="24"> &nbsp;</TD> 
         </TR>
         <TR>
            <TD width="59" height="24">&nbsp;</TD>
            <TD width="695" height="24">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <b>&nbsp;if</b>&nbsp; (v.val &lt;e) <b>then</b></TD> 
            <TD width="29" height="24">&nbsp;</TD> 
            <TD width="447" height="24"> &nbsp;</TD> 
         </TR>
         <TR>
            <TD width="59" height="24">&nbsp;</TD>
            <TD width="695" height="24">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <b>if</b> (v.right <span lang="en"><font face="Symbol">&sup1;</font></span>null)
            <b>then</b> v := v.right</TD> 
            <TD width="29" height="24">&nbsp;</TD> 
            <TD width="447" height="24"> //bêdziemy przeszukiwaæ prawe poddrzewo</TD> 
         </TR>
         <TR>
            <TD width="59" height="24">&nbsp;</TD>
            <TD width="695" height="24">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <b>else</b></TD> 
            <TD width="29" height="24">&nbsp;</TD> 
            <TD width="447" height="24"> &nbsp;</TD> 
         </TR>
         <TR>
            <TD width="59" height="24">&nbsp;</TD>
            <TD width="695" height="24">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            w := new node; w.val := e; </TD> 
            <TD width="29" height="24">&nbsp;</TD> 
            <TD width="447" height="24"> // dowi±zujemy nowy wierzcho³ek z </TD> 
         </TR>
         <tr>
            <TD width="59" height="16"></TD>
            <TD width="695" height="16">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            v. right := w; bool := true</TD> 
            <TD width="29" height="16"></TD> 
            <TD width="447" height="16"> etykiet± e jako prawego syna v</TD> 
         </tr>
         <TR>
            <TD width="59" height="24">&nbsp;</TD>
            <TD width="695" height="24">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <b>fi;</b></TD> 
            <TD width="29" height="24">&nbsp;</TD> 
            <TD width="447" height="24"> &nbsp;</TD> 
         </TR>
         <TR>
            <TD width="59" height="24">&nbsp;</TD>
            <TD width="695" height="24">
            <b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else</b> </TD> 
            <TD width="29" height="24">&nbsp;</TD> 
            <TD width="447" height="24"> &nbsp;</TD> 
         </TR>
         <TR>
            <TD width="59" height="16"></TD>
            <TD width="695" height="16">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if</b> 
            (v.left <span lang="en"><font face="Symbol">&sup1;</font></span>null) <b>then</b>&nbsp;&nbsp;&nbsp;&nbsp; 
            v := v.left </TD> 
            <TD width="29" height="16"></TD> 
            <TD width="447" height="16"> //bêdziemy przeszukiwaæ lewe poddrzewo</TD> 
         </TR>
         <TR>
            <TD width="59" height="18"></TD>
            <TD width="695" height="18"><b>&nbsp;</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <b>else&nbsp;&nbsp;&nbsp; </b></TD> 
            <TD width="29" height="18"></TD> 
            <TD width="447" height="18"> </TD> 
         </TR>
         <TR>
            <TD width="59" height="16"></TD>
            <TD width="695" height="16">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; w := new node; w.val := e;</TD> 
            <TD width="29" height="16"></TD> 
            <TD width="447" height="16"> // dowi±zujemy nowy wierzcho³ek z </TD> 
         </TR>
         <tr>
            <TD width="59" height="20">&nbsp;</TD>
            <TD width="695" height="20">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; y.left := w; 
            bool := true</TD> 
            <TD width="29" height="20">&nbsp;</TD> 
            <TD width="447" height="20"> etykiet± e jako lewego syna v</TD> 
         </tr>
         <tr>
            <TD width="59" height="15"></TD>
            <TD width="695" height="15">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fi</b></TD> 
            <TD width="29" height="15"></TD> 
            <TD width="447" height="15"> </TD> 
         </tr>
         <TR>
            <TD width="59" height="16"></TD>
            <TD width="695" height="16">&nbsp;<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fi</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TD> 
            <TD width="29" height="16"></TD> 
            <TD width="447" height="16"> </TD> 
         </TR>
         <TR>
            <TD width="59" height="16"></TD>
            <TD width="695" height="16"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fi</b> </TD> 
            <TD width="29" height="16"></TD> 
            <TD width="447" height="16"> </TD> 
         </TR>
         <TR>
            <TD width="59" height="15"></TD>
            <TD width="695" height="15">&nbsp;&nbsp;&nbsp;&nbsp; <b>od</b></TD> 
            <TD width="29" height="15"></TD> 
            <TD width="447" height="15"> </TD> 
         </TR>
         <TR>
            <TD width="59" height="18"></TD>
            <TD width="695" height="18">   <b>fi;</b>&nbsp;<STRONG>&nbsp; </STRONG>
             </TD>
            <TD width="29" height="18">   </TD>
            <TD width="447" height="18">   &nbsp;</TD>
         </TR>
         <TR>
            <TD width="59" height="17"></TD>
            <TD width="695" height="17">   <strong>&nbsp;</strong>return root<STRONG> &nbsp;}</STRONG></TD>
            <TD width="29" height="17">   </TD>
            <TD width="447" height="17">   </TD>
         </TR>
         </TABLE>
</div>

<p><b>Przyk³ad 4.1</b></p>
<p>Na rysunku 7.5 przedstawiono drzewa binarnych poszukiwañ otrzymane przez 
kolejne wstawianie etykiet 6, 5, 8, 9, 7 do pocz±tkowo pustego drzewa. Zauwa¿my, 
¿e nowe elementy pojawiaj± siê jako etykiety li¶ci. </p>
   
<p><center><img border="0" src="Rysunki/Rysunek7_5.gif" width="300" height="300"></center></p>
   
<p><b>Pytanie 6:</B>&nbsp; Niech bêdzie etykiet± ró¿n± od wszystkich etykiet 
drzewa D. Czy po wykonaniu instrukcji &quot;D* := insert(e,D);&quot; prawdziwe jest zdanie 
&quot;Je¶li w jest wierzcho³kiem drzewa D* i w.val = e, to w jest li¶ciem w drzewie 
D*.&quot;? <FORM>
<p>
<INPUT class="GUZIK" TYPE='button' VALUE='Zobacz odpowied¼' NAME='Klik0' 
onClick="napis(this.form,'Tak. Nowy wierzcho³ek jest zawsze dowi±zywany na koñcu ¶cie¿ki.');">
</p>
</form>


<p>&nbsp;</p>
   


<p><b>Poprawno¶æ algorytmu insert</b></p>
   


<p>Algorytm <i>insert</i> zatrzymuje 
siê dla dowolnych danych D, e: w ka¿dej iteracji pêtli, o ile nie znale¼li¶my 
jeszcze ani etykiety e, ani w³a¶ciwego miejsca dla e, schodzimy w g³±b drzewa na 
nastêpny poziom (instrukcje: v:= v.left lub v:= v.right). Proces ten zakoñczy 
siê po skoñczonej liczbie kroków, bo wysoko¶æ drzewa&nbsp; D jest skoñczona.</p>
   


<p>¯adna z instrukcji algorytmu nie zmienia warto¶ci etykiet danego drzewa D, 
wiêc drzewo otrzymane w wyniku zawiera wszystkie etykiety drzewa D. Przypu¶æmy, 
¿e w pewnej iteracji pêtli zachodz± warunki&nbsp; e &lt; v.val oraz v.left = null. 
Z pierwszego warunku wynika, ¿e e musi siê znale¼æ w lewym poddrzewie 
wierzcho³ka v, z drugiego warunku, ¿e to poddrzewo jest puste. Zatem e nie 
nale¿y do drzewa D i mo¿emy dowi±zaæ nowy wierzcho³ek z etykiet± e, jako lewego 
syna wierzcho³ka v. Zmienna bool jest w tym momencie algorytmu ustalona na <b>
true</b>, wiêc proces zostanie zakoñczony, a w wyniku otrzymamy drzewo binarnych 
poszukiwañ, w którym znajduje siê etykieta e. Analogiczna sytuacja zachodzi, gdy 
v.val&lt;e oraz v.right = null.</p>
   


<p>Jako wniosek z powy¿szych rozwa¿añ otrzymujemy nastêpuj±cy lemat:</p>
   


<p></P>

<div class="lemat">
<p>Lemat 4.1&nbsp;&nbsp; Algorytm insert zatrzymuje siê dla dowolnego drzewa 
binarnych poszukiwañ D i dowolnej etykiety e, a wynikiem jest drzewo binarnych 
poszukiwañ D* spe³niaj±ce warunek&nbsp; member(e,D*) <font face="Symbol">
<span lang="en">&Ugrave;</span></font> (<font face="Symbol">&quot;</font>x, e<font face="Symbol"><span lang="en">&sup1;</span></font>x) 
(member(x,D) <font face="Symbol"><span lang="en">&ordm;</span> </font>member(x,D*)).</P>
 </div>
 
<p></P>
   
<p><b>Koszt algorytmu</b></p>
   
<p>Koszt algorytmu mierzony liczb± wykonanych porównañ jest zdeterminowany przez 
proces wyszukiwania elementu e lub miejsc, gdzie powinien zostaæ dowi±zany 
wierzcho³ek z etykiet± e. Pozosta³e czynno¶ci zwi±zane z utworzeniem nowego 
wierzcho³ka maj± koszt sta³y. Zatem&nbsp; w najgorszym wypadku koszt wynosi O(n), 
a ¶rednio O(lg n), gdzie n jest liczb± wierzcho³ków w drzewie D (por. analizê 
kosztu algorytmu <i>memebr</i>).</p>
   
<p><b>Pytanie 7:</B>&nbsp; Jaka jest wysoko¶æ drzewa binarnych poszukiwañ, je¶li 
do pocz±tkowo pustego drzewa w³o¿ono kolejno etykiety&nbsp; 5, 7, 2, 1, 9, 3, 6, 
0? 
&nbsp;<FORM>
<p>
<INPUT class="GUZIK" TYPE='button' VALUE='Zobacz odpowied¼' NAME='Klik0' onClick="napis(this.form,'3');">
</p>
</form>


<p><br clear="all"><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr>
<td align="left"><A HREF="main07_p3.html" TARGET="main"  class="NAWIGACJA">&#171;&nbsp;poprzedni punkt</a>&nbsp;</td>
<td align="right">&nbsp;<A HREF="main07_p5.html" TARGET="main" class="NAWIGACJA">nastêpny punkt&nbsp;&#187;</a></td></tr></table>
<!--/td-->
<!--/tr-->
<!--/table-->
</body>
</html>