<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="pragma" content="no-cache">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
<meta http-equiv="Content-Language" content="pl">
<title></title>
<meta name="Keywords" content="s³owa kluczowe">
<meta name="Description" content="">
<LINK REL="stylesheet" TYPE="text/css" HREF="../main.css">
<LINK REL="stylesheet" TYPE="text/css" HREF="../style.html">
<script language="JavaScript" src="../skrypty.js" type="text/javascript"></script>
</head>
<body bgcolor="whitesmoke" leftmargin="8" topmargin="8" marginwidth="8" marginheight="8">
<!--body bgcolor="whitesmoke" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0"-->
<!--table width="100%" cellspacing="4" cellpadding="4" border="0"-->
<!--tr-->
    <!--td--><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr>
<td align="left"><A HREF="main04_p3.html" TARGET="main"  class="NAWIGACJA">&#171;&nbsp;poprzedni punkt</a>&nbsp;</td>
<td align="right">&nbsp;<A HREF="main04_p5.html" TARGET="main" class="NAWIGACJA">nastêpny punkt&nbsp;&#187;</a></td></tr></table>
<br clear="all"><A NAME="EDU.wyklad.punkt 4"></A>

<br clear="all">
<div class="tytulpunktu">4. Problem scalania</div>
</p>

<p>Rozwa¿my nastêpuj±cy problem. Na pocz±tku semestru dziekanat pewnej Uczelni przygotowa³ 
alfabetycznie uporz±dkowane listy&nbsp;studentów ka¿dej z grup drugiego roku. Na 
koniec semestru potrzebny jest jednak protokó³ egzaminacyjny zawieraj±cy 
nazwiska wszystkich studentów drugiego roku. Jak stworzyæ now±, alfabetycznie 
uporz±dkowan± listê, tak by nikogo nie pomin±æ i wykonaæ jak najmniej pracy? </p>

<p>Sformalizowana wersja tego problemu, to problem scalania:</p>

<p>Dane s± dwa ci±gi uporz±dkowane a[1],..., a[n] oraz b[1],..., b[n]. Zbudowaæ ci±g 
uporz±dkowany o n+m elementach e[1], ..., e[n+m], z³o¿ony z wszystkich elementów obu ci±gów.&nbsp; </p>

  <p><b>Przyk³ad 4.1</b></p>
<p> (a) Niech ci±g a sk³ada siê ze s³ów&nbsp; bit, kit, lit, mit, wit, a ci±g b ze 
s³ów&nbsp;&nbsp; kok, lok, rok, sok, tok. W wyniku operacji scalania otrzymamy ci±g&nbsp;&nbsp; bit,&nbsp; kit, kok, 
lit, lok, mit, rok, sok, tok, wit.</p>
<p> (b) Je¿eli a = (2,5,6,8,9), b = (0,1,3,4,7), to w wyniku scalania otrzymamy ci±g e 
= (0,1,2,3,4,5,6,7,8,9).<FONT FACE="Wingdings">&#74;</FONT> </p>

<p><b>Specyfikacja algorytmu:</b></p>

<p style="text-align: center">wp = { a[1]<font face="Symbol"> <span lang="en">&pound;</span> </font>
            ...<font face="Symbol"><span lang="en">&pound;</span></font>
            a[n],&nbsp; b[1]<font face="Symbol"><span lang="en">&pound;</span> </font>
            ...<font face="Symbol"><span lang="en">&pound;</span> </font>
            b[m]}</p>

<p style="text-align: center">wk = {e[1]<font face="Symbol"> <span lang="en">&pound;</span></font> e[2] <font face="Symbol"> <span lang="en">
&pound;</span></font>...<font face="Symbol"> <span lang="en">&pound;</span> </font>
            e[n+m],

ci±g e jest permutacj± elementów a[1],...,a[n], b[1],...,b[m]}</p>

<p> 

<p>

Ka¿dy algorytm, ca³kowicie poprawny ze wzglêdu na tê specyfikacjê bêdziemy 
uznawali za rozwi±zanie problemu scalania.<BR>
&nbsp;</p>

<p>

<b>Idea </b>rozwi±zania:</p>

<p>

Wyobra¼my sobie bramkê, przed któr± stoj± dwie uporz±dkowane kolejki (tzn. ci±g 
a i ci±g b). W ka¿dym kroku, przez bramkê przechodzi jeden element: mniejszy z 
tych, które znajduj± siê aktualnie na pocz±tku kolejek.&nbsp; Jego kolejka 
przesuwa siê tym samym o jedn± pozycjê do przodu. Wiêkszy pozostaje przed bramk± 
tak d³ugo, a¿ na pocz±tku drugiej kolejki pojawi siê element od niego wiêkszy, 
lub druga kolejka bêdzie pusta.&nbsp;&nbsp; </p>

<p>

<b>Przyk³ad 4.2</b></p>

<p>Niech ci±gi a i b zawieraj± odpowiednio liczby 2,3,5,6,8,9 oraz 0,1,4,7. W 
kolejnych wierszach poni¿szej tabeli zapisano kolejne kroki algorytmu scalania. 
Kolorem czerwonym zaznaczono elementy porównywane w danym kroku. Element 
mniejszy z porównywanych jest w zapisany w ci±gu wynikowym.</p>
<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="64%" id="AutoNumber1" height="185">
  <tr>
    <td width="24%" bgcolor="#FFE4E1" colspan="6" height="15" align="center">&nbsp;ci±g 
    a</td>
    <td width="4%" height="15" align="center"></td>
    <td width="17%" bgcolor="#FFFF99" height="15" colspan="4" align="center">&nbsp;ci±g 
    b</td>
    <td width="5%" height="15" align="center"></td>
    <td width="50%" height="15" colspan="10" bgcolor="#E6F0EB" align="center">&nbsp;ci±g 
    wynikowy</td>
  </tr>
  <tr>
    <td width="4%" bgcolor="#FF0000" height="16" align="center">2</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">3</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">5</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">6</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">8</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">9</td>
    <td width="4%" height="16" align="center"></td>
    <td width="4%" bgcolor="#FF0000" height="16" align="center">0</td>
    <td width="4%" bgcolor="#FFFF99" height="16" align="center">1</td>
    <td width="4%" bgcolor="#FFFF99" height="16" align="center">4</td>
    <td width="5%" bgcolor="#FFFF99" height="16" align="center">7</td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">0</td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" align="center"></td>
  </tr>
  <tr>
    <td width="4%" bgcolor="#FF0000" height="16" align="center">2</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">3</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">5</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">6</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">8</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">9</td>
    <td width="4%" height="16" align="center"></td>
    <td width="4%" bgcolor="#FFFF99" height="16" align="center">0</td>
    <td width="4%" bgcolor="#FF0000" height="16" align="center">1</td>
    <td width="4%" bgcolor="#FFFF99" height="16" align="center">4</td>
    <td width="5%" bgcolor="#FFFF99" height="16" align="center">7</td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">0</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">1</td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" align="center"></td>
  </tr>
  <tr>
    <td width="4%" bgcolor="#FF0000" height="16" align="center">2</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">3</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">5</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">6</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">8</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">9</td>
    <td width="4%" height="16" align="center"></td>
    <td width="4%" bgcolor="#FFFF99" height="16" align="center">0</td>
    <td width="4%" bgcolor="#FFFF99" height="16" align="center">1</td>
    <td width="4%" bgcolor="#FF0000" height="16" align="center">4</td>
    <td width="5%" bgcolor="#FFFF99" height="16" align="center">7</td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">0</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">1</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">2</td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" align="center"></td>
  </tr>
  <tr>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">2</td>
    <td width="4%" bgcolor="#FF0000" height="16" align="center">3</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">5</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">6</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">8</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">9</td>
    <td width="4%" height="16" align="center"></td>
    <td width="4%" bgcolor="#FFFF99" height="16" align="center">0</td>
    <td width="4%" bgcolor="#FFFF99" height="16" align="center">1</td>
    <td width="4%" bgcolor="#FF0000" height="16" align="center">4</td>
    <td width="5%" bgcolor="#FFFF99" height="16" align="center">7</td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">0</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">1</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">2</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">3</td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" align="center"></td>
  </tr>
  <tr>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">2</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">3</td>
    <td width="4%" bgcolor="#FF0000" height="16" align="center">5</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">6</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">8</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">9</td>
    <td width="4%" height="16" align="center"></td>
    <td width="4%" bgcolor="#FFFF99" height="16" align="center">0</td>
    <td width="4%" bgcolor="#FFFF99" height="16" align="center">1</td>
    <td width="4%" bgcolor="#FF0000" height="16" align="center">4</td>
    <td width="5%" bgcolor="#FFFF99" height="16" align="center">7</td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">0</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">1</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">2</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">3</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">4</td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" align="center"></td>
  </tr>
  <tr>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">2</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">3</td>
    <td width="4%" bgcolor="#FF0000" height="16" align="center">5</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">6</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">8</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">9</td>
    <td width="4%" height="16" align="center"></td>
    <td width="4%" bgcolor="#FFFF99" height="16" align="center">0</td>
    <td width="4%" bgcolor="#FFFF99" height="16" align="center">1</td>
    <td width="4%" bgcolor="#FFFF99" height="16" align="center">4</td>
    <td width="5%" bgcolor="#FF0000" height="16" align="center">7</td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">0</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">1</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">2</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">3</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">4</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">5</td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" align="center"></td>
  </tr>
  <tr>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">2</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">3</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">5</td>
    <td width="4%" bgcolor="#FF0000" height="16" align="center">6</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">8</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">9</td>
    <td width="4%" height="16" align="center"></td>
    <td width="4%" bgcolor="#FFFF99" height="16" align="center">0</td>
    <td width="4%" bgcolor="#FFFF99" height="16" align="center">1</td>
    <td width="4%" bgcolor="#FFFF99" height="16" align="center">4</td>
    <td width="5%" bgcolor="#FF0000" height="16" align="center">7</td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">0</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">1</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">2</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">3</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">4</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">5</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">6</td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" align="center"></td>
  </tr>
  <tr>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">2</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">3</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">5</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">6</td>
    <td width="4%" bgcolor="#FF0000" height="16" align="center">8</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">9</td>
    <td width="4%" height="16" align="center"></td>
    <td width="4%" bgcolor="#FFFF99" height="16" align="center">0</td>
    <td width="4%" bgcolor="#FFFF99" height="16" align="center">1</td>
    <td width="4%" bgcolor="#FFFF99" height="16" align="center">4</td>
    <td width="5%" bgcolor="#FF0000" height="16" align="center">7</td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">0</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">1</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">2</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">3</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">4</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">5</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">6</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">7</td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" align="center"></td>
  </tr>
  <tr>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">2</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">3</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">5</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">6</td>
    <td width="4%" bgcolor="#FF0000" height="16" align="center">8</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">9</td>
    <td width="4%" height="16" align="center"></td>
    <td width="4%" bgcolor="#FFFF99" height="16" align="center">0</td>
    <td width="4%" bgcolor="#FFFF99" height="16" align="center">1</td>
    <td width="4%" bgcolor="#FFFF99" height="16" align="center">4</td>
    <td width="5%" bgcolor="#FFFF99" height="16" align="center">7</td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">0</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">1</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">2</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">3</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">4</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">5</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">6</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">7</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">8</td>
    <td width="5%" height="16" align="center"></td>
  </tr>
  <tr>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">2</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">3</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">5</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">6</td>
    <td width="4%" bgcolor="#FFE4E1" height="16" align="center">8</td>
    <td width="4%" bgcolor="#FF0000" height="16" align="center">9</td>
    <td width="4%" height="16" align="center"></td>
    <td width="4%" bgcolor="#FFFF99" height="16" align="center">0</td>
    <td width="4%" bgcolor="#FFFF99" height="16" align="center">1</td>
    <td width="4%" bgcolor="#FFFF99" height="16" align="center">4</td>
    <td width="5%" bgcolor="#FFFF99" height="16" align="center">7</td>
    <td width="5%" height="16" align="center"></td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">0</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">1</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">2</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">3</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">4</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">5</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">6</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">7</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">8</td>
    <td width="5%" height="16" bgcolor="#E6F0EB" align="center">9</td>
  </tr>
</table>

<p>W chwili, gdy porównali¶my 8 i 7,&nbsp; i siódemka zosta³a zapisana w ci±gu 
wynikowym, elementy 8,9 z pierwszego ci±gu mo¿emy, bez wykonywania porównañ, 
dopisaæ na koñcu ci±gu wynikowego. <font face="Wingdings">J</font></p>

<p><b>Algorytm</b></p>

<p>Niech a bêdzie ci±giem o d³ugo¶ci n, a b ci±giem o d³ugo¶ci m. W opisanym 
poni¿ej algorytmie Merge,&nbsp; oba ci±gi wej¶ciowe a i&nbsp; b zosta³y rozszerzone 
o 
jeden element, oznaczony tutaj <font face="Symbol">+ <span lang="en">&yen;</span></font>. 
Zak³adamy, ¿e jest on wiêkszy od wszystkich innych elementów obu ci±gów. 
Taki zabieg pozwoli nam upro¶ciæ nieco strukturê algorytmu. Zadbamy jednak o to, 
by ci±g&nbsp;e otrzymany 
w wyniku&nbsp; mia³ dok³adnie n+m elementów. </p>
<p style="text-align: left">&nbsp;<p>
<div class="def" style="width: 842; height: 304">
   <TABLE frame="void" rules="none" width="804" height="178">
         <TR>
            <TD width="431" height="12" colspan="2">Merge {</TD>
             
            <TD width="38" height="12"></TD>
             
            <TD width="868" height="12"> </TD>
             
         </TR>
         <TR>
            <TD width="59" height="12"></TD>
            <TD width="372" height="12">a[n+1] := <font face="Symbol">+ <span lang="en">&yen;</span></font>; 
            b[m+1]:= <font face="Symbol">+ <span lang="en">&yen;</span></font>;</TD> 
            <TD width="38" height="12"></TD> 
            <TD width="868" height="12"></TD> 
         </TR>
         <TR>
            <TD width="59" height="12"></TD>
            <TD width="372" height="12">i := 1; j := 1; k :=1;</TD> 
            <TD width="38" height="12"></TD> 
            <TD width="868" height="12"></TD> 
         </TR>
         <TR>
            <TD width="59" height="12"></TD>
            <TD width="372" height="12"><b>while</b> (k<font face="Symbol"> <span lang="en">&pound;</span></font>
            (n+m)) <b>do</b></TD> 
            <TD width="38" height="12"></TD> 
            <TD width="868" height="12">// e[1]<font face="Symbol"> <span lang="en">
            &pound;</span></font> e[2] <font face="Symbol"> <span lang="en">&pound;</span></font>...<font face="Symbol"> <span lang="en">
            &pound;</span> </font>
            e[k-1],&nbsp; k = i+j-1</TD> 
         </TR>
         <TR>
            <TD width="59" height="12"></TD>
            <TD width="372" height="12"><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if&nbsp; </strong>
            (a[i]<font face="Symbol"> <span lang="en">&pound;</span></font>
            b[j]) <strong>then </strong> </TD> 
            <TD width="38" height="12"></TD> 
            <TD width="868" height="12"></TD> 
         </TR>
         <TR>
            <TD width="59" height="12"></TD>
            <TD width="372" height="12"><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            e[k] := a[i]; i := i+1&nbsp;</TD> 
            <TD width="38" height="12"></TD> 
            <TD width="868" height="12">// e[1]<font face="Symbol">&nbsp; <span lang="en">&pound;</span> </font>...<font face="Symbol"><span lang="en">&pound;</span></font> 
            e[k-1<font face="Symbol">] <span lang="en">&pound;</span> </font>e[k] 
            oraz e[k] = a[i-1],&nbsp;&nbsp;&nbsp; k = i+j-2</TD> 
         </TR>
         <TR>
            <TD width="59" height="12"></TD>
            <TD width="372" height="12"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else</b> </TD> 
            <TD width="38" height="12"></TD> 
            <TD width="868" height="12"></TD> 
         </TR>
         <TR>
            <TD width="59" height="12"></TD>
            <TD width="372" height="12">   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            e[k] := b[j]; j := j+1&nbsp; <STRONG>&nbsp; </STRONG>
             </TD>
            <TD width="38" height="12">   </TD>
            <TD width="868" height="12">   //e[1]<font face="Symbol">&nbsp; <span lang="en">&pound;</span> </font>...<font face="Symbol"> <span lang="en">&pound;</span></font>
            e[k-1<font face="Symbol">] <span lang="en">&pound;</span> </font>e[k] 
            oraz e[k] = b[j-1] ,&nbsp;&nbsp;&nbsp;&nbsp; k = i+j-2</TD>
         </TR>
         <TR>
            <TD width="59" height="12"></TD>
            <TD width="372" height="12">   <strong>&nbsp;
            </strong><b>&nbsp;&nbsp;&nbsp; fi;</b><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </strong></TD>
            <TD width="38" height="12">   </TD>
            <TD width="868" height="12">   </TD>
         </TR>
         <TR>
            <TD width="59" height="12"></TD>
            <TD width="372" height="12">   &nbsp;&nbsp;&nbsp;&nbsp; k := k+1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TD>
            <TD width="38" height="12">   </TD>
            <TD width="868" height="12">   //&nbsp;e[1]<font face="Symbol"> <span lang="en">&pound;</span></font>...<font face="Symbol"><span lang="en">&pound;</span> </font>
            e[k-1]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k= i+j-1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TD>
         </TR>
         <TR>
            <TD width="59" height="12"></TD>
            <TD width="372" height="12">   <b>od;</b></TD>
            <TD width="38" height="12">   </TD>
            <TD width="868" height="12">   </TD>
         </TR>
         <TR>
            <TD width="59" height="12"></TD>
            <TD width="372" height="12">   <b>return </b>e</TD>
            <TD width="38" height="12">   </TD>
            <TD width="868" height="12">   // e[1]<font face="Symbol"> <span lang="en">&pound;</span></font>...<font face="Symbol"><span lang="en">&pound;</span> </font>
            e[k-1],&nbsp; k= n+m+1</TD>
         </TR>
         <TR>
            <TD width="59" height="1"><strong>&nbsp;&nbsp;&nbsp;&nbsp; }</strong></TD>
            <TD width="372" height="1">   &nbsp;<STRONG>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </STRONG></TD>
            <TD width="38" height="1">   </TD>
            <TD width="868" height="1">   </TD>
         </TR>
         </TABLE>
</div>

<p style="text-align: left"><b>Poprawno¶æ algorytmu</b></P>

<p>

Zauwa¿my, ¿e elementy dodatkowe, dopisane do ci±gów a i b, nie mog± siê znale¼æ 
w ci±gu wynikowym, gdy¿ pêtla jest wykonywana tylko&nbsp; (n+m) razy. Gdyby, w 
którym¶ momencie i= n+1, tzn. a[i] =<font face="Symbol">+ <span lang="en">&yen;</span></font> 
, to przy porównywaniu tego elementu z b[j] dla j&lt;n+1, wygra b[j] i to b[j] zostanie 
zapisane w ci±gu wynikowym. Analogicznie w przypadku, gdy j=m+1. Je¶li za¶ oba 
wska¼niki i, j wskazuj± element specjalny, to znaczy, ¿e wszystkie poprzednie 
elementy ju¿ zosta³y wpisane do tablicy wynikowej, a wiêc k musi byæ w tym 
momencie równe n+m+1. Warunek pêtli &quot;while&quot; nie bêdzie spe³niony i zakoñczymy 
wykonywanie algorytmu.</p>

<p>

Jest oczywiste, ¿e algorytm zatrzymuje siê dla dowolnych danych, gdy¿ zmienna 
kontroluj±ca pêtlê zmienia siê od 1 do n+m. Trzeba jeszcze pokazaæ, ¿e otrzymany 
wynik jest ci±giem uporz±dkowanym z³o¿onym z elementów danych ci±gów.</p>

<p>

Przed pierwszym wej¶ciem do pêtli &quot;while&quot; jest trywialnie spe³niony warunek&nbsp; 
e[1]<font face="Symbol"> <span lang="en">&pound;</span></font> e[2] <font face="Symbol"> <span lang="en">
&pound;</span></font>...<font face="Symbol"> <span lang="en">&pound;</span> </font>
            e[k-1]. Za³ó¿my, ¿e rozpoczynamy pewn± iteracjê pêtli &quot;while&quot; i 
spe³nione s± w³asno¶ci (*):</p>

<p style="text-align: center">

&nbsp;e[1]<font face="Symbol"> <span lang="en">&pound;</span></font> e[2] <font face="Symbol"> <span lang="en">
&pound;</span></font>...<font face="Symbol"> <span lang="en">&pound;</span> </font>
            e[k-1], i <font face="Symbol"> <span lang="en">&pound;</span> </font>n+1, 
j <font face="Symbol"> <span lang="en">&pound;</span> </font>m+1, k = (i + j 
-1), k<font face="Symbol"> <span lang="en">
&pound;</span> </font>(n+m+1),&nbsp; (*)</p>

<p style="text-align: center">

(ci±g e[1],...,e[k-1] jest&nbsp; permutacj± ci±gu 
a[1],...,a[i-1],b[1],...,b[j-1] ).</p>

<p>

Formu³y te mówi±, ¿e k-1 elementów w ci±gu e tworzy ci±g uporz±dkowany, a 
ponadto&nbsp; i-1 elementów 
ci±gu a oraz&nbsp; j-1 elementów ci±gu b zosta³o ju¿ zapisanych na pozycjach od 
1 do k-1 ci±gu e.</p>

<p>

Po wykonaniu instrukcji warunkowej &quot;<strong>if&nbsp; </strong>
            (a[i]<font face="Symbol"> <span lang="en">&pound;</span></font>
            b[j])...&quot; , na miejscu k-tym w ci±gu e pojawi siê&nbsp; 
mniejszy z elementów a[i], b[j] oraz, albo i, albo j wzro¶nie o jeden.&nbsp; 
Poniewa¿ ci±gi a i b s± uporz±dkowane niemalej±co zatem wstawiony element e[k] 
jest niemniejszy od wszystkich&nbsp; elementów, które znajduj± siê na 
wcze¶niejszych pozycjach w ci±gu e. Mamy wiêc w tablicy e a¿ k elementów 
uporz±dkowanych, oraz&nbsp;&nbsp; i+j-1 = k+1.</p>

<p style="text-align: center">

e[1]<font face="Symbol"> </font>&nbsp;<font face="Symbol"><span lang="en">&pound;</span></font>...<font face="Symbol"> <span lang="en">&pound;</span> </font>
            e[k-1]<font face="Symbol"> <span lang="en">&pound;</span></font> e[k], i <font face="Symbol"> <span lang="en">&pound;</span> </font>n+1, 
j <font face="Symbol"> <span lang="en">&pound;</span> </font>m+1, (k+1) = (i + j 
-1),&nbsp; k<font face="Symbol"> <span lang="en">
&pound;</span> </font>(n+m+1),</p>

<p style="text-align: center">

(ci±g e[1],...,e[k] jest&nbsp; permutacj± elementów ci±gu 
a[1],...,a[i-1],b[1],...,b[j-1] ).</p>

<p>

Po wykonaniu instrukcji przypisania &quot;k:=k+1;&quot; ponownie spe³nione s± 
w³asno¶ci 
(*). Wykazali¶my tym samym, ¿e jest to niezmiennik pêtli. Z twierdzenia o 
niezmienniku (por. wyk³ad I, p.3), ta sama formu³a jest spe³niona w chwili 
wyj¶cia z pêtli. Wtedy jednak k = n+m+1 i wszystkie elementy, zarówno ci±gu a, 
jak i b, znalaz³y siê ju¿ w ci±gu e oraz&nbsp; e[1]<font face="Symbol"> </font>&nbsp;<font face="Symbol"><span lang="en">&pound;</span></font>...<font face="Symbol"> <span lang="en">&pound;</span> </font>
            e[n+m]. Spe³niony jest zatem warunek koñcowy specyfikacji.</p>

<p><div class="lemat">
  <p>Twierdzenie 4.1&nbsp; Algorytm Merge jest ca³kowicie  poprawnym rozwi±zaniem problemu scalania 
  za wzglêdu na specyfikacjê,</p>
  <p style="text-align: center">wp = {a[1]<font face="Symbol"> <span lang="en">&pound;</span> </font>
            ...<font face="Symbol"> <span lang="en">&pound;</span></font>
            a[n],&nbsp; b[1]<font face="Symbol"> <span lang="en">&pound;</span> </font>
            ...<font face="Symbol"> <span lang="en">&pound;</span> </font>
            b[m], n&gt;0, m&gt;0}</p>
  <p style="text-align: center">wk = {ci±g e[1],...,e[n+m] jest uporz±dkowan± 
  niemalej±co permutacj± elementów a[1],..., a[n], b[1],...,b[m] }</p>
  <p>&nbsp;w ka¿dej strukturze danych z liniowym porz±dkiem <span lang="en"><font face="Symbol">&pound;</font></span>.</p>
</div>
<p></p>

<p><b>Koszt algorytmu</b></p>
<p>Poniewa¿ w pêtli &quot;while&quot; wykonujemy w ka¿dej iteracji tylko jedno porównanie, 
a liczba iteracji wynosi dok³adnie n+m, zatem koszt algorytmu&nbsp; jest liniowy 
w stosunku do d³ugo¶ci ci±gów scalanych i wynosi</p>
<p style="text-align: center">T(n) = <font face="Symbol">Q</font>(n+m).</p>
<p></P>

<p><b>Pytanie 4</B>: Ile porównañ elementów musi wykonaæ algorytm Merge, je¿eli 
wiadomo, ¿e&nbsp; a[n]&lt;b[1]? (Nie liczymy porównañ z elementem specjalnym <font face="Symbol">+ <span lang="en">&yen;</span>.</font>)</P>

<!-- <p>Odpowied¼:  n porównañ -->
 
 <FORM>
<p>
<INPUT class="GUZIK" TYPE='button' VALUE='Zobacz odpowied¼' NAME='Klik0' onClick="napis(this.form,'n porównañ');">
</p>
</form>

<p><br clear="all"><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr>
<td align="left"><A HREF="main04_p3.html" TARGET="main"  class="NAWIGACJA">&#171;&nbsp;poprzedni punkt</a>&nbsp;</td>
<td align="right">&nbsp;<A HREF="main04_p5.html" TARGET="main" class="NAWIGACJA">nastêpny punkt&nbsp;&#187;</a></td></tr></table><!--/td-->
<!--/tr-->
<!--/table-->
</body>
</html>