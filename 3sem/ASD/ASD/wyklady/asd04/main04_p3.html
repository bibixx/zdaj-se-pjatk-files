<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="pragma" content="no-cache">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
<meta http-equiv="Content-Language" content="pl">
<title></title>
<meta name="Keywords" content="s³owa kluczowe">
<meta name="Description" content="">
<LINK REL="stylesheet" TYPE="text/css" HREF="../main.css">
<LINK REL="stylesheet" TYPE="text/css" HREF="../style.html">
<script language="JavaScript" src="../skrypty.js" type="text/javascript"></script>
</head>
<body bgcolor="whitesmoke" leftmargin="8" topmargin="8" marginwidth="8" marginheight="8">
<!--body bgcolor="whitesmoke" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0"-->
<!--table width="100%" cellspacing="4" cellpadding="4" border="0"-->
<!--tr-->
    <!--td--><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr>
<td align="left"><A HREF="main04_p2.html" TARGET="main"  class="NAWIGACJA">&#171;&nbsp;poprzedni punkt</a>&nbsp;</td>
<td align="right">&nbsp;<A HREF="main04_p4.html" TARGET="main" class="NAWIGACJA">nastêpny punkt&nbsp;&#187;</a></td></tr></table>
<br clear="all">
<A NAME="EDU.wyklad.punkt 3"></A><br clear="all"><div class="tytulpunktu">
3. Szybkie sortowanie</div>

<p>
Idea algorytmu szybkiego sortowania pochodzi od C.A.R.Hoare i polega na zastosowaniu zasady &quot;dziel i 
zwyciê¿aj&quot;: podzielmy zadanie sortownia ci±gu n elementowego na dwa podzadania 
o mniej wiêcej takich samych rozmiarach, a uzyskane wyniki po³±czmy w jeden uporz±dkowany 
ci±g. Aby po³±czenie posortowanych odcinków nie wymaga³o dodatkowej pracy 
(dodatkowych porównañ), wystarczy aby elementy jednego posortowanego odcinka 
by³y nie wiêksze od elementów drugiego posortowanego odcinka.&nbsp; 
<p>
<b>Metoda</b><ol>
  <li>Rozdzieliæ elementy danego ci±gu e wzglêdem pewnego wybranego elementu v, 
  na elementy mniejsze od v i elementy wiêksze od v.</li>
  <li>Umie¶ciæ v na w³a¶ciwej pozycji, któr± ten element powinien zajmowaæ w 
  ci±gu uporz±dkowanym.</li>
  <li>Posortowaæ (stosuj±c tê sam± metodê) elementy mniejsze od v.</li>
  <li>Posortowaæ (stosuj±c tê sam± metodê) elementy wiêksze od v.</li>
  </ol>
<p>
Rozdzielanie ci±gu omawiali¶my przy okazji innego algorytmu stosuj±cego zasadê 
&quot;dziel i zwyciê¿aj, a mianowicie algorytmu Hoare wyszukiwania&nbsp; k-tego co do wielko¶ci 
elementu ci±gu (por. wyk³ad III, p.6). Podany tam algorytm Partition zastosujemy teraz w procesie 
sortowania.<p>
<b>Przyk³ad 3.1</b><p>
Niech ci±g e sk³ada siê z nastêpuj±cych elementów: 7,2,4,5,1,6,3,5,9,8,0. 
Kolejne kroki algorytmu przedstawili¶my w tabeli. Elementy, wzglêdem których 
rozdzielany by³ ci±g, s± zaznaczone kolorem czerwonym, elementy m³odsze w 
rozwa¿anym podziale - kolorem ¿ó³tym, a starsze - kolorem zielonym.<p>
<center>
&nbsp;<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="68%" id="AutoNumber1">
    <tr>
      <td width="7%" align="center" bgcolor="#C0C0C0">
      <p align="right" style="text-align: center">1</td>
      <td width="7%" align="center" bgcolor="#C0C0C0">
      <p align="right" style="text-align: center">2</td>
      <td width="7%" align="center" bgcolor="#C0C0C0">
      <p align="right" style="text-align: center">3</td>
      <td width="7%" align="center" bgcolor="#C0C0C0">
      <p align="right" style="text-align: center">4</td>
      <td width="8%" align="center" bgcolor="#C0C0C0">
      <p align="right" style="text-align: center">5</td>
      <td width="8%" align="center" bgcolor="#C0C0C0">
      <p align="right" style="text-align: center">6</td>
      <td width="8%" align="center" bgcolor="#C0C0C0">
      <p align="right" style="text-align: center">7</td>
      <td width="8%" align="center" bgcolor="#C0C0C0">
      <p align="right" style="text-align: center">8</td>
      <td width="8%" align="center" bgcolor="#C0C0C0">
      <p align="right" style="text-align: center">9</td>
      <td width="8%" align="center" bgcolor="#C0C0C0">
      <p align="right" style="text-align: center">10</td>
      <td width="8%" align="center" bgcolor="#C0C0C0">
      <p align="right" style="text-align: center">11</td>
      <td width="31%" align="center">
      <p align="right" style="text-align: center">&nbsp;</td>
    </tr>
    <tr>
      <td width="7%" align="center">
      <p align="right" style="text-align: center">7</td>
      <td width="7%" align="center">
      <p align="right" style="text-align: center">2</td>
      <td width="7%" align="center">
      <p align="right" style="text-align: center">4</td>
      <td width="7%" align="center">
      <p align="right" style="text-align: center">5</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">1</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">3</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">6</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">5</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">8</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">9</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">0</td>
      <td width="31%" align="center">
      <p align="right" style="text-align: center"><b>dany ci±g</b><br>
&nbsp;</td>
    </tr>
    <tr>
      <td width="7%" align="center" bgcolor="#FF0000">
      <p align="right" style="text-align: center">0</td>
      <td width="7%" align="center" bgcolor="#CCFFCC">
      <p align="right" style="text-align: center">2</td>
      <td width="7%" align="center" bgcolor="#CCFFCC">
      <p align="right" style="text-align: center">4</td>
      <td width="7%" align="center" bgcolor="#CCFFCC">
      <p align="right" style="text-align: center">5</td>
      <td width="8%" align="center" bgcolor="#CCFFCC">
      <p align="right" style="text-align: center">1</td>
      <td width="8%" align="center" bgcolor="#CCFFCC">
      <p align="right" style="text-align: center">3</td>
      <td width="8%" align="center" bgcolor="#CCFFCC">
      <p align="right" style="text-align: center">6</td>
      <td width="8%" align="center" bgcolor="#CCFFCC">
      <p align="right" style="text-align: center">5</td>
      <td width="8%" align="center" bgcolor="#CCFFCC">
      <p align="right" style="text-align: center">8</td>
      <td width="8%" align="center" bgcolor="#CCFFCC">
      <p align="right" style="text-align: center">9</td>
      <td width="8%" align="center" bgcolor="#CCFFCC">
      <p align="right" style="text-align: center"><font face="Verdana">7</font></td>
      <td width="31%">
      <p align="right" style="text-align: center">1krok 1-11</td>
    </tr>
    <tr>
      <td width="7%" align="center">
      <p align="right" style="text-align: center">0</td>
      <td width="7%" align="center" bgcolor="#FFFF99">
      <p align="right" style="text-align: center">2</td>
      <td width="7%" align="center" bgcolor="#FFFF99">
      <p align="right" style="text-align: center">4</td>
      <td width="7%" align="center" bgcolor="#FFFF99">
      <p align="right" style="text-align: center">5</td>
      <td width="8%" align="center" bgcolor="#FFFF99">
      <p align="right" style="text-align: center">1</td>
      <td width="8%" align="center" bgcolor="#FFFF99">
      <p align="right" style="text-align: center">3</td>
      <td width="8%" align="center" bgcolor="#FFFF99">
      <p align="right" style="text-align: center">6</td>
      <td width="8%" align="center" bgcolor="#FFFF99">
      <p align="right" style="text-align: center">5</td>
      <td width="8%" align="center" bgcolor="#FF0000">
      <p align="right" style="text-align: center">7</td>
      <td width="8%" align="center" bgcolor="#CCFFCC">
      <p align="right" style="text-align: center">9</td>
      <td width="8%" align="center" bgcolor="#CCFFCC">
      <p align="right" style="text-align: center">8</td>
      <td width="31%">
      <p align="right" style="text-align: center">2krok 2-11</td>
    </tr>
    <tr>
      <td width="7%" align="center">
      <p align="right" style="text-align: center">0</td>
      <td width="7%" align="center" bgcolor="#FFFF99">
      <p align="right" style="text-align: center">2</td>
      <td width="7%" align="center" bgcolor="#FFFF99">
      <p align="right" style="text-align: center">4</td>
      <td width="7%" align="center" bgcolor="#FFFF99">
      <p align="right" style="text-align: center">5</td>
      <td width="8%" align="center" bgcolor="#FFFF99">
      <p align="right" style="text-align: center">1</td>
      <td width="8%" align="center" bgcolor="#FFFF99">
      <p align="right" style="text-align: center">3</td>
      <td width="8%" align="center" bgcolor="#FF0000">
      <p align="right" style="text-align: center">5</td>
      <td width="8%" align="center" bgcolor="#CCFFCC">
      <p align="right" style="text-align: center">6</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">7</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">9</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">8</td>
      <td width="31%">
      <p align="right" style="text-align: center">3krok 2-8</td>
    </tr>
    <tr>
      <td width="7%" align="center">
      <p align="right" style="text-align: center">0</td>
      <td width="7%" align="center" bgcolor="#FFFF99">
      <p align="right" style="text-align: center">2</td>
      <td width="7%" align="center" bgcolor="#FFFF99">
      <p align="right" style="text-align: center">1</td>
      <td width="7%" align="center" bgcolor="#FF0000">
      <p align="right" style="text-align: center">3</td>
      <td width="8%" align="center" bgcolor="#CCFFCC">
      <p align="right" style="text-align: center">4</td>
      <td width="8%" align="center" bgcolor="#CCFFCC">
      <p align="right" style="text-align: center">5</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">5</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">6</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">7</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">9</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">8</td>
      <td width="31%">
      <p align="right" style="text-align: center">4krok 2-6</td>
    </tr>
    <tr>
      <td width="7%" align="center">
      <p align="right" style="text-align: center">0</td>
      <td width="7%" align="center" bgcolor="#FFFF99">
      <p align="right" style="text-align: center">1</td>
      <td width="7%" align="center" bgcolor="#FF0000">
      <p align="right" style="text-align: center">2</td>
      <td width="7%" align="center">
      <p align="right" style="text-align: center">3</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">4</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">5</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">5</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">6</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">7</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">9</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">8</td>
      <td width="31%">
      <p align="right" style="text-align: center">5krok 2-3</td>
    </tr>
    <tr>
      <td width="7%" align="center">
      <p align="right" style="text-align: center">0</td>
      <td width="7%" align="center">
      <p align="right" style="text-align: center">1</td>
      <td width="7%" align="center">
      <p align="right" style="text-align: center">2</td>
      <td width="7%" align="center">
      <p align="right" style="text-align: center">3</td>
      <td width="8%" align="center" bgcolor="#FFFF99">
      <p align="right" style="text-align: center">4</td>
      <td width="8%" align="center" bgcolor="#FF0000">
      <p align="right" style="text-align: center">5</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">5</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">6</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">7</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">9</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">8</td>
      <td width="31%">
      <p align="right" style="text-align: center">6krok 5-6</td>
    </tr>
    <tr>
      <td width="7%" align="center">
      <p align="right" style="text-align: center">0</td>
      <td width="7%" align="center">
      <p align="right" style="text-align: center">1</td>
      <td width="7%" align="center">
      <p align="right" style="text-align: center">2</td>
      <td width="7%" align="center">
      <p align="right" style="text-align: center">3</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">4</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">5</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">5</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">6</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">7</td>
      <td width="8%" align="center" bgcolor="#FFFF99">
      <p align="right" style="text-align: center">8</td>
      <td width="8%" align="center" bgcolor="#FF0000">
      <p align="right" style="text-align: center">9</td>
      <td width="31%">
      <p align="right" style="text-align: center">7krok10-11</td>
    </tr>
    <tr>
      <td width="7%" align="center">
      <p align="right" style="text-align: center">0</td>
      <td width="7%" align="center">
      <p align="right" style="text-align: center">1</td>
      <td width="7%" align="center">
      <p align="right" style="text-align: center">2</td>
      <td width="7%" align="center">
      <p align="right" style="text-align: center">3</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">4</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">5</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">5</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">6</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">7</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">8</td>
      <td width="8%" align="center">
      <p align="right" style="text-align: center">9</td>
      <td width="31%" align="center">
      <p align="right" style="text-align: center">wynik</td>
    </tr>
  </table>
</center>
<p>
W pierwszym kroku rozdzielamy dany ci±g wzglêdem elementu e[11]. Poniewa¿ 0 jest 
mniejsze od wszystkich elementów ci±gu, wiêc zbiór elementów &quot;m³odszych&quot; jest w 
tym przypadku pusty. Zbiór elementów &quot;starszych&quot; to ci±g 2,4,5,1,3,6,5,8,9,7. 
Rozdzielamy go wzglêdem 7. Czê¶æ &quot;starsza&quot; zawiera elementy 9,8, a &quot;m³odsza&quot; 
elementy 2,4,5,1,3,6,5. Zajmiemy siê najpierw posortowaniem czê¶ci &quot;m³odszej&quot;. 
Zastosowanie Partition do ci±gu 2,4,5,1,3,6,5 rozdzieli go na ci±g 2,4,5,1,3 
oraz ci±g jednoelementowy 6, który&nbsp; jest ju¿ uporz±dkowany. Ci±g 2,4,5,1,3 
rozdzielony wzglêdem 3 utworzy dwa podzbiory {1,2} i {4,5}. Pozosta³o ju¿ tylko 
sprawdzenie kolejno¶ci w parach na pozycjach 2-3, 5-6, 10-11. <FONT FACE="Wingdings">&#74;</FONT>
<p>
<b>Uwaga</b> Algorytm Partition nie jest jedynym dobrym sposobem rozdzielania 
elementów zbioru skoñczonego. W prezentacji do³±czonej do wyk³adu znajduje siê 
opis innego algorytmu rozdzielania Split. W dalszej czê¶ci wyk³adu poznamy 
jeszcze inny sposób, wykorzystuj±cy bardziej zaawansowane struktury danych.<p>
Przedstawiany w tym punkcie algorytm QuickSort jest procedur± rekurencyjn± o 
dwóch parametrach formalnych l i p, które oznaczaj± lewy i prawy indeks 
rozwa¿anego ci±gu. Jak zwykle zak³adamy, ¿e elementy sortowanego ci±gu zosta³y 
umieszczone w tablicy e[1],...e[n].<p style="text-align: left">&nbsp;<p>
<div class="def" style="width: 816; height: 218">
   <TABLE frame="void" rules="none" width="782" height="178">
         <TR>
            <TD width="411" height="12" colspan="2">QuickSort (l, p : int){</TD>
             
            <TD width="21" height="12"></TD>
             
            <TD width="883" height="12"> </TD>
             
         </TR>
         <TR>
            <TD width="59" height="12"></TD>
            <TD width="352" height="12"><strong>&nbsp;</strong></TD> 
            <TD width="21" height="12"></TD> 
            <TD width="883" height="12"></TD> 
         </TR>
         <TR>
            <TD width="59" height="12"></TD>
            <TD width="352" height="12"><strong>&nbsp;if&nbsp; </strong>(l
            <font face="Symbol">&lt;</font> p) <strong>then </strong> </TD> 
            <TD width="21" height="12"></TD> 
            <TD width="883" height="12">// rozwa¿any fragment ci±gu zawiera co 
            najmniej 2 elementy</TD> 
         </TR>
         <TR>
            <TD width="59" height="12"></TD>
            <TD width="352" height="12"><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</strong>&nbsp; 
            x := Partition (l,p);&nbsp;</TD> 
            <TD width="21" height="12"></TD> 
            <TD width="883" height="12">// {e[l],...,e[x-1]}<font face="Symbol"><span lang="en">&pound;</span> </font>
            e[x]<font face="Symbol"> <span lang="en">&pound;</span></font> 
            {e[x+1],...,e[p]}</TD> 
         </TR>
         <TR>
            <TD width="59" height="12"></TD>
            <TD width="352" height="12">   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            QuickSort(l, x-1); <STRONG>&nbsp;&nbsp;&nbsp; </STRONG>
             </TD>
            <TD width="21" height="12">   </TD>
            <TD width="883" height="12">   // e[l]<font face="Symbol"> <span lang="en">&pound;</span></font> 
            e[l+1] <font face="Symbol"> <span lang="en">&pound;</span></font>...<font face="Symbol"> <span lang="en">&pound;</span> </font>
            e[x-1]&nbsp;&nbsp;&nbsp;&nbsp; </TD>
         </TR>
         <TR>
            <TD width="59" height="12"></TD>
            <TD width="352" height="12">   <strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </strong>QuickSort(x+1, p);</TD>
            <TD width="21" height="12">   </TD>
            <TD width="883" height="12">   &nbsp;// e[x+1]<font face="Symbol"> <span lang="en">&pound;</span></font> 
            e[x+2<font face="Symbol">] <span lang="en">&pound;</span> </font>...<font face="Symbol"> <span lang="en">&pound;</span> </font>
            e[p]</TD>
         </TR>
         <TR>
            <TD width="59" height="12"></TD>
            <TD width="352" height="12">   &nbsp;<b>fi;</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TD>
            <TD width="21" height="12">   </TD>
            <TD width="883" height="12">   &nbsp;//&nbsp;e[l]<font face="Symbol"> <span lang="en">&pound;</span></font>...<font face="Symbol"><span lang="en">&pound;</span> </font>
            e[x-1]&nbsp;<span lang="en"><font face="Symbol">&pound;</font></span> 
            e[x] <font face="Symbol"><span lang="en">&pound;</span> </font>
            e[x+1]<font face="Symbol"> <span lang="en">&pound;</span> </font>...<font face="Symbol"> <span lang="en">&pound;</span> </font>
            e[p]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </TD>
         </TR>
         <TR>
            <TD width="59" height="1"><strong>&nbsp;&nbsp;&nbsp;&nbsp; }</strong></TD>
            <TD width="352" height="1">   &nbsp;<STRONG>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </STRONG></TD>
            <TD width="21" height="1">   </TD>
            <TD width="883" height="1">   </TD>
         </TR>
         </TABLE>
</div>

<p style="text-align: left"><b>Analiza poprawno¶ci</b></P>

<p>Je¿eli ci±g sk³ada siê z jednego tylko elementu (tzn. l = r), to oczywi¶cie 
jest ci±giem uporz±dkowanym. Za³ó¿my, ¿e algorytm QuickSort zastosowany do 
dowolnego ci±gu krótszego ni¿ p-l+1 ustawia jego elementy w porz±dku 
niemalej±cym. Dok³adniej, zak³adamy, ¿e o ile j-i &lt; p-l, to w wyniku wywo³ania 
QuickSort(i,j) mamy&nbsp; e[i] <font face="Symbol"> <span lang="en">&pound;</span> </font>
e[i+1] <font face="Symbol"> <span lang="en">&pound;</span>... <span lang="en">&pound;</span></font> 
e[j], oraz elementy e[i],...,e[j] s± permutacj± oryginalnych danych na pozycjach 
od i-tej do j-tej.</P>

<p>Na mocy twierdzenia o poprawno¶ci algorytmu Partition (por. twierdzenie 
III.6.1), po wykonaniu instrukcji&nbsp; &quot;Partition(l,p);&quot;</P>

<p style="text-align: center">{e[l],..., e[x-1]}<font face="Symbol"> <span lang="en">&pound;</span> </font>
            e[x]<font face="Symbol"> <span lang="en">&pound;</span></font> 
{e[x+1],..., e[p]}.</P>

<p style="text-align: left">Wiemy ponadto, ¿e l<font face="Symbol"> <span lang="en">&pound;</span> </font>
            x <font face="Symbol"><span lang="en">&pound;</span> </font>
            p. Wynika st±d, ¿e&nbsp; (x-1) - l &lt; p - l oraz&nbsp; p - (x+1)&lt; p - 
l, co umo¿liwia nam zastosowanie za³o¿enia indukcyjnego do rekurencyjnych 
wywo³añ &quot;QuickSort(l, x-1);&quot; i   <strong>&nbsp;</strong>&quot;QuickSort(x+1, p);&quot;. W 
wyniku pierwszego wywo³ania otrzymamy e[l]<font face="Symbol"> <span lang="en">&pound;</span></font> 
e[l+1] <font face="Symbol"> <span lang="en">&pound;</span></font>...<font face="Symbol"> <span lang="en">&pound;</span> </font>
e[x-1], a w wyniku drugiego wywo³ania&nbsp; e[x+1]<font face="Symbol"> <span lang="en">&pound;</span></font> 
e[x+2<font face="Symbol">] <span lang="en">&pound;</span> </font>...<font face="Symbol"> <span lang="en">&pound;</span> </font>
e[p].&nbsp; Ostatecznie ca³y fragment od l do p jest ci±giem uporz±dkowanym. Na 
mocy zasady indukcji wnioskujemy, ¿e dla dowolnego n,&nbsp; wykonanie algorytmu 
QuickSort(1,n)&nbsp; spowoduje uporz±dkowanie ci±gu e[1],...,e[n].</P>

<p style="text-align: left">Zauwa¿my, tak jak w przypadku poprzednio omawianych 
algorytmów, ¿e ani typy ani warto¶ci elementów nie maj± w tym algorytmie 
znaczenia. Algorytm dzia³a poprawnie, tzn. ustawia elementy ci±gu w porz±dku 
niemalej±cym, w dowolnej strukturze danych, na elementach której okre¶lony jest 
liniowy porz±dek.</P>

<p><div class="lemat">
  <p>Twierdzenie 3.1&nbsp; Algorytm QuickSort jest ca³kowicie  poprawnym rozwi±zaniem problemu sortowania, 
  w ka¿dej strukturze danych z liniowym porz±dkiem <span lang="en"><font face="Symbol">&pound;</font></span>.</p>
</div>
<p></p>

<p style="text-align: left"><b>Analiza kosztu.</b></P>

<p>Rozwa¿my najpierw przypadki szczególne. Jak zachowa siê algorytm QuickSort 
dla ci±gu e uporz±dkowanego niemalej±co?&nbsp;&nbsp; Algorytm Partition u¿ywa do 
rozdzielania, elementu z pozycji ostatniej, czyli w tym przypadku najwiêkszego. 
Zatem w wyniku rozdzielenia ci±gu n elementowego zbiór elementów wiêkszych od 
rozdzielaj±cego bêdzie pusty, a zbiór elementów mniejszych bêdzie zawiera³ n-1 
elementów. Wykonany przy tym n-1 porównañ. Podobnie bêdzie w ka¿dym nastêpnym 
wykonaniu Partition. Jest to wiêc najgorszy przypadek dla tego algorytmu.&nbsp; 
Liczbê wykonanych porównañ mo¿emy opisaæ równaniem&nbsp; W(n) = (n-1) + W(n-1), 
którego rozwi±zaniem jest funkcja W(n) = n(n-1)/2&nbsp; rzêdu<font face="Symbol">&nbsp; 
Q</font>(n<sup><font face="Verdana">2</font></sup>).</P>

<p>Aby policzyæ koszt ¶redni, za³ó¿my, ¿e wszystkie permutacje elementów danego 
ci±gu s± tak samo prawdopodobne i ¿e ka¿dy podzia³ ci±gu w wyniku dzia³ania 
algorytmu Partition jest tak samo prawdopodobny. Poniewa¿ pozycja rozdzielaj±ca 
mo¿e siê znajdowaæ na dowolnym z n miejsc, wiêc przyjmujemy, ¿e&nbsp; P( pozycja 
elementu rozdzielaj±cego = x) = 1/n dla dowolnego x=1,...,n.&nbsp; Koszt 
pierwszego wykonania Partition wynosi n-1 porównañ. Je¿eli element rozdzielaj±cy 
znajdzie siê na pozycji x, to kolejne wywo³ania rekurencyjne dotycz± ci±gu x-1 
elementowego i n-x elementowego. Mamy wiêc nastêpuj±ce równanie rekurencyjne dla 
¶redniego kosztu algorytmu:</P>

<p style="text-align: center">A(1) = 0, A(n) = (n-1) + (1/n)
<font face="Symbol" size="4">S</font> <sub><font face="Verdana">x=1,...,n</font></sub> 
(A(x-1) + A(n-x)).</P>

<p>Po uproszczeniu, równanie przyjmuje postaæ  </P>

<p style="text-align: center">A(n) = (n-1) +(2/n)
<font face="Symbol" size="4">S</font> <sub><font face="Verdana">x=1,...,n-1</font></sub> 
A(x),  </P>

<p>a jego rozwi±zaniem jest funkcja A(n)= c n lg n. Koszt ¶redni algorytmu 
QuickSort jest wiêc liniowo-logarytmiczny.</P>

<p>
<b>Pytanie 3:&nbsp; </b>Ile porównañ wykona algorytm QuickSort dla ci±gu 
dziesiêcioelementowego odwrotnie uporz±dkowanego?<br>
&nbsp;<FORM>
<INPUT class="GUZIK" TYPE='button' VALUE='Zobacz odpowied¼' NAME='Klik0' onClick="napis(this.form,'45');">
</form>

<p><br clear="all"><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr>
<td align="left"><A HREF="main04_p2.html" TARGET="main"  class="NAWIGACJA">&#171;&nbsp;poprzedni punkt</a>&nbsp;</td>
<td align="right">&nbsp;<A HREF="main04_p4.html" TARGET="main" class="NAWIGACJA">nastêpny punkt&nbsp;&#187;</a></td></tr></table><!--/td-->
<!--/tr-->
<!--/table-->
</body>
</html>