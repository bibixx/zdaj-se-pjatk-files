--    This SQL DDL script was generated by Visio Enterprise (Release Date: LOCAL BUILD).

--    Driver Used : Visio Enterprise - Oracle Server Driver.
--    Document    : Z:\0_SBD\hotel.vsd.
--    Time Created: 9 December 2004 09:26.
--    Operation   : From Visio Generate Wizard.
--    Connected data source : No connection.
--    Connected server      : No connection.
--    Connected database    : Not applicable.



-- Create new table POKOJE.
-- POKOJE : Table of Pokoje
-- 	ID_POKOJU : id_pokoju identifies Pokoje
-- 	PIETRO : pietro is of Pokoje
-- 	OPIS : opis is of Pokoje
-- 	CZY_ZAJETY : czy_zajety is of Pokoje
-- 	ID_KATEGORII : id_kategorii is of Pokoje  
create table POKOJE (
	ID_POKOJU NUMBER(5,0) not null,
	PIETRO VARCHAR2(10) not null,
	OPIS VARCHAR2(30) null,
	CZY_ZAJETY NUMBER(1,0) null,
	ID_KATEGORII NUMBER(5,0) null, constraint POKOJE_PK primary key (ID_POKOJU) ); 

-- Create new table KATEGORIE.
-- KATEGORIE : Table of Kategorie
-- 	ID_KATEGORII : id_kategorii identifies Kategorie
-- 	OPIS_KATEGORII : opis_kategorii is of Kategorie  
create table KATEGORIE (
	ID_KATEGORII NUMBER(5,0) not null,
	OPIS_KATEGORII VARCHAR2(30) not null, constraint KATEGORIE_PK primary key (ID_KATEGORII) ); 

-- Create new table REZERWACJE.
-- REZERWACJE : Table of Rezerwacje
-- 	ID_REZERWACJI : id_rezerwacji identifies Rezerwacje
-- 	REZ_OD : rez_od is of Rezerwacje
-- 	REZ_DO : rez_do is of Rezerwacje
-- 	ID_GOSCIA : id_goscia is of Rezerwacje  
create table REZERWACJE (
	ID_REZERWACJI NUMBER(5,0) not null,
	REZ_OD DATE not null,
	REZ_DO DATE not null,
	ID_GOSCIA NUMBER(5,0) null, constraint REZERWACJE_PK primary key (ID_REZERWACJI) ); 

-- Create new table R_PRZYDZIELONA.
-- R_PRZYDZIELONA : Table of r_przydzielona
-- 	ID_REZERWACJI : id_rezerwacji identifies r_przydzielona
-- 	ID_POKOJU : id_pokoju is of r_przydzielona  
create table R_PRZYDZIELONA (
	ID_REZERWACJI NUMBER(5,0) not null,
	ID_POKOJU NUMBER(5,0) null, constraint R_PRZYDZIELONA_PK primary key (ID_REZERWACJI) ); 

-- Create new table R_ZAMOWIONA.
-- R_ZAMOWIONA : Table of r_zamowiona
-- 	ID_REZERWACJI : id_rezerwacji identifies r_zamowiona
-- 	ID_KATEGORII : id_kategorii is of r_zamowiona  
create table R_ZAMOWIONA (
	ID_REZERWACJI NUMBER(5,0) not null,
	ID_KATEGORII NUMBER(5,0) null, constraint R_ZAMOWIONA_PK primary key (ID_REZERWACJI) ); 

-- Create new table MELDUNEK.
-- MELDUNEK : Table of Meldunek
-- 	ID_MELDUNKU : id_meldunku identifies Meldunek
-- 	MELD_OD : meld_od is of Meldunek
-- 	MELD_DO : meld_do is of Meldunek
-- 	ID_GOSCIA : id_goscia is of Meldunek
-- 	ID_REZERWACJI : id_rezerwacji is of Meldunek
-- 	ID_POKOJU : id_pokoju is of Meldunek  
create table MELDUNEK (
	ID_MELDUNKU NUMBER(5,0) not null,
	MELD_OD DATE not null,
	MELD_DO DATE not null,
	ID_GOSCIA NUMBER(5,0) not null,
	ID_REZERWACJI NUMBER(5,0) null,
	ID_POKOJU NUMBER(5,0) null, constraint MELDUNEK_PK primary key (ID_MELDUNKU) ); 

-- Create new table GOŒCIE.
-- GOŒCIE : Table of Goœcie
-- 	ID_GOSCIA : id_goscia identifies Goœcie
-- 	IMIE : imie is of Goœcie
-- 	NAZWISKO : nazwisko is of Goœcie
-- 	DATA_UR : data_ur is of Goœcie
-- 	ADRES : adres is of Goœcie
-- 	DOW_OS : dow_os is of Goœcie
-- 	CZY_VIP : czy_vip is of Goœcie  
create table GOŒCIE (
	ID_GOSCIA NUMBER(5,0) not null,
	IMIE VARCHAR2(10) null,
	NAZWISKO VARCHAR2(20) not null,
	DATA_UR DATE null,
	ADRES VARCHAR2(30) not null,
	DOW_OS VARCHAR2(10) not null,
	CZY_VIP NUMBER(1,0) null, constraint GOŒCIE_PK primary key (ID_GOSCIA) ); 

-- Add foreign key constraints to table POKOJE.
alter table POKOJE
	add constraint KATEGORIE_POKOJE_FK1 foreign key (
		ID_KATEGORII)
	 references KATEGORIE (
		ID_KATEGORII); 

-- Add foreign key constraints to table R_PRZYDZIELONA.
alter table R_PRZYDZIELONA
	add constraint REZERWACJE_R_PRZYDZIELONA_FK1 foreign key (
		ID_REZERWACJI)
	 references REZERWACJE (
		ID_REZERWACJI); 

alter table R_PRZYDZIELONA
	add constraint POKOJE_R_PRZYDZIELONA_FK1 foreign key (
		ID_POKOJU)
	 references POKOJE (
		ID_POKOJU); 

-- Add foreign key constraints to table R_ZAMOWIONA.
alter table R_ZAMOWIONA
	add constraint REZERWACJE_R_ZAMOWIONA_FK1 foreign key (
		ID_REZERWACJI)
	 references REZERWACJE (
		ID_REZERWACJI); 

alter table R_ZAMOWIONA
	add constraint KATEGORIE_R_ZAMOWIONA_FK1 foreign key (
		ID_KATEGORII)
	 references KATEGORIE (
		ID_KATEGORII); 

-- Add foreign key constraints to table REZERWACJE.
alter table REZERWACJE
	add constraint GOŒCIE_REZERWACJE_FK1 foreign key (
		ID_GOSCIA)
	 references GOŒCIE (
		ID_GOSCIA); 

-- Add foreign key constraints to table MELDUNEK.
alter table MELDUNEK
	add constraint GOŒCIE_MELDUNEK_FK1 foreign key (
		ID_GOSCIA)
	 references GOŒCIE (
		ID_GOSCIA); 

alter table MELDUNEK
	add constraint REZERWACJE_MELDUNEK_FK1 foreign key (
		ID_REZERWACJI)
	 references REZERWACJE (
		ID_REZERWACJI); 

alter table MELDUNEK
	add constraint POKOJE_MELDUNEK_FK1 foreign key (
		ID_POKOJU)
	 references POKOJE (
		ID_POKOJU); 


-- This is the end of the Visio Enterprise generated SQL DDL script.
